<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Whale Behavior Analysis</title>
    <link rel="stylesheet" href="css/styles.css">
    <style>
        /* Base styles */
        body {
            margin: 0;
            padding: 0;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            color: #f0f0f0;
            background-color: #121212;
            line-height: 1.6;
        }
        
        /* Navbar styles */
        .navbar {
            background-color: #1e2126;
            padding: 0 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            height: 60px;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: 1000;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
        }
        
        .navbar-brand {
            display: flex;
            align-items: center;
            color: white;
            text-decoration: none;
        }
        
        .navbar-logo {
            width: 30px;
            height: 30px;
            background-color: #3498db;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            margin-right: 10px;
        }
        
        .navbar-links {
            display: flex;
            list-style: none;
        }
        
        .navbar-links a {
            color: #f0f0f0;
            text-decoration: none;
            padding: 0 15px;
            font-size: 14px;
            transition: color 0.3s;
        }
        
        .navbar-links a:hover {
            color: #3498db;
        }
        
        /* Hamburger menu */
        .hamburger-menu {
            display: none;
            cursor: pointer;
            flex-direction: column;
            justify-content: space-between;
            width: 30px;
            height: 21px;
        }
        
        .hamburger-line {
            width: 100%;
            height: 3px;
            background-color: white;
            border-radius: 3px;
            transition: all 0.3s ease;
        }
        
        /* Mobile styles */
        @media (max-width: 768px) {
            .hamburger-menu {
                display: flex;
                z-index: 1001; /* Ensure it's above the navbar-links when active */
            }
            
            .navbar-links {
                position: fixed;
                top: 60px;
                left: 0;
                right: 0;
                background-color: #1e2126;
                flex-direction: column;
                align-items: center;
                padding: 20px 0;
                transform: translateY(-100%);
                opacity: 0;
                transition: all 0.3s ease;
                pointer-events: none;
                box-shadow: 0 5px 10px rgba(0, 0, 0, 0.2);
                z-index: 1000;
            }
            
            .navbar-links.active {
                transform: translateY(0);
                opacity: 1;
                pointer-events: all;
            }
            
            .navbar-links a {
                padding: 15px 0;
                width: 100%;
                text-align: center;
            }
            
            /* Hamburger animation */
            .hamburger-menu.active .hamburger-line:nth-child(1) {
                transform: translateY(9px) rotate(45deg);
            }
            
            .hamburger-menu.active .hamburger-line:nth-child(2) {
                opacity: 0;
            }
            
            .hamburger-menu.active .hamburger-line:nth-child(3) {
                transform: translateY(-9px) rotate(-45deg);
            }
            
            /* Adjustments for main content on mobile */
            #content-container {
                padding-top: 70px;
            }
        }
        
        /* ... existing code ... */
        
        .visualization-container {
            display: flex;
            flex-direction: column;
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .visualization-row {
            display: flex;
            gap: 20px;
            flex-wrap: wrap;
            justify-content: center;
        }
        
        .visualization-card {
            flex: 1;
            min-width: 300px;
            max-width: 600px;
            border: 1px solid #ddd;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        
        .visualization-card img {
            width: 100%;
            height: auto;
        }
        
        .visualization-card h3 {
            padding: 10px 15px;
            margin: 0;
            background: #f5f5f5;
            border-bottom: 1px solid #ddd;
        }
        
        .visualization-card .content {
            padding: 15px;
        }
        
        .metrics-dashboard {
            margin-top: 30px;
            padding: 20px;
            border: 1px solid #ddd;
            border-radius: 8px;
            background: #f9f9f9;
        }
        
        .dive-selector {
            margin-bottom: 20px;
        }
        
        .dive-selector input {
            width: 100%;
        }
        
        .metrics-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 15px;
        }
        
        .metric-card {
            background: white;
            border: 1px solid #ddd;
            border-radius: 5px;
            padding: 15px;
            text-align: center;
        }
        
        .metric-card h4 {
            margin-top: 0;
            color: #666;
        }
        
        .metric-value {
            font-size: 24px;
            font-weight: bold;
            color: #3498db;
        }
        
        .tab-container {
            border: 1px solid #ddd;
            border-radius: 8px;
            overflow: hidden;
        }
        
        .tab-buttons {
            display: flex;
            background: #f5f5f5;
        }
        
        .tab-button {
            padding: 10px 20px;
            border: none;
            background: none;
            cursor: pointer;
            flex: 1;
            font-weight: bold;
        }
        
        .tab-button.active {
            background: #3498db;
            color: white;
        }
        
        .tab-content {
            display: none;
            padding: 20px;
        }
        
        .tab-content.active {
            display: block;
        }
        
        /* Rubric Navigation */
        .rubric-nav {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            background-color: #2c3e50;
            color: white;
            padding: 10px 0;
            z-index: 1000;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
        }
        
        .rubric-nav-container {
            display: flex;
            justify-content: space-around;
            max-width: 1200px;
            margin: 0 auto;
            flex-wrap: wrap;
        }
        
        .rubric-nav-item {
            padding: 10px 15px;
            cursor: pointer;
            border-radius: 4px;
            transition: background-color 0.3s;
            margin: 5px;
            font-weight: bold;
            text-align: center;
        }
        
        .rubric-nav-item:hover {
            background-color: #3498db;
        }
        
        .rubric-nav-item.active {
            background-color: #3498db;
        }
        
        /* Adjust regular navbar for coexistence with rubric nav */
        .navbar {
            margin-top: 60px; /* Make room for rubric nav */
        }
        
        #content-container {
            margin-top: 60px; /* Adjust for rubric nav */
        }
        
        /* Responsive adjustments */
        @media (max-width: 768px) {
            .rubric-nav-container {
                flex-direction: column;
                max-height: 0;
                overflow: hidden;
                transition: max-height 0.3s ease-out;
            }
            
            .rubric-nav-container.expanded {
                max-height: 500px;
            }
            
            .rubric-nav-item {
                width: 100%;
                box-sizing: border-box;
                padding: 8px 10px;
                margin: 2px;
            }
            
            .navbar {
                margin-top: 50px; /* Reduced margin for rubric toggle button */
                flex-wrap: wrap;
                justify-content: center;
                padding: 0;
                max-height: 50px;
                overflow: hidden;
                transition: max-height 0.3s ease-out;
            }
            
            .navbar.expanded {
                max-height: 400px;
            }
            
            .navbar a {
                width: 100%;
                padding: 8px 0;
                margin: 0;
                text-align: center;
                border-radius: 0;
                border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            }
            
            #content-container {
                margin-top: 100px; /* Reduced margin */
            }
            
            .rubric-toggle-btn, .navbar-toggle-btn {
                position: fixed;
                z-index: 1100;
                background-color: #2c3e50;
                color: white;
                border: none;
                width: 40px;
                height: 40px;
                border-radius: 5px;
                cursor: pointer;
                display: none; /* Hidden by default, shown by JS on mobile */
                flex-direction: column;
                justify-content: center;
                align-items: center;
                padding: 5px;
            }
            
            .rubric-toggle-btn {
                top: 5px;
                right: 5px;
            }
            
            .navbar-toggle-btn {
                top: 55px;
                right: 5px;
            }
            
            .toggle-icon {
                width: 20px;
                height: 2px;
                background-color: white;
                margin: 3px 0;
                transition: 0.3s;
            }
            
            .rubric-toggle-btn.active .toggle-icon:nth-child(1) {
                transform: rotate(-45deg) translate(-5px, 5px);
            }
            
            .rubric-toggle-btn.active .toggle-icon:nth-child(2) {
                opacity: 0;
            }
            
            .rubric-toggle-btn.active .toggle-icon:nth-child(3) {
                transform: rotate(45deg) translate(-5px, -5px);
            }
            
            .navbar-toggle-btn.active .toggle-icon:nth-child(1) {
                transform: rotate(-45deg) translate(-5px, 5px);
            }
            
            .navbar-toggle-btn.active .toggle-icon:nth-child(2) {
                opacity: 0;
            }
            
            .navbar-toggle-btn.active .toggle-icon:nth-child(3) {
                transform: rotate(45deg) translate(-5px, -5px);
            }
        }
        
        @media (max-width: 480px) {
            .navbar {
                margin-top: 50px;
            }
            
            #content-container {
                margin-top: 100px;
                padding-top: 0;
            }
            
            section {
                padding-top: 30px;
            }
        }
        
        /* Modal styles for rubric slides */
        .rubric-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.8);
            z-index: 2000;
            overflow: auto;
            opacity: 0;
            transition: opacity 0.3s ease;
        }
        
        .rubric-modal.show {
            display: block;
            opacity: 1;
        }
        
        .rubric-slide {
            position: relative;
            width: 90%;
            max-width: 1000px;
            background-color: #1e2126;
            color: #ffffff;
            margin: 50px auto;
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.5);
        }
        
        .close-modal {
            position: absolute;
            top: 10px;
            right: 15px;
            font-size: 28px;
            font-weight: bold;
            color: #ddd;
            cursor: pointer;
            transition: color 0.2s;
        }
        
        .close-modal:hover {
            color: #fff;
        }
        
        .rubric-slide h2 {
            color: #3498db;
            margin-top: 0;
            border-bottom: 2px solid #3498db;
            padding-bottom: 10px;
            margin-bottom: 20px;
        }
        
        .slide-section {
            margin-bottom: 20px;
        }
        
        .slide-section h3 {
            color: #5dade2;
            margin-bottom: 10px;
        }
        
        .data-point {
            background-color: #2c3e50;
            border-left: 4px solid #3498db;
            padding: 10px 15px;
            margin-bottom: 15px;
            border-radius: 0 4px 4px 0;
        }
        
        .highlight-box {
            background-color: #2c3e50;
            border-radius: 6px;
            padding: 15px;
            margin: 15px 0;
        }
        
        .metric-point {
            display: inline-block;
            background-color: #3498db;
            color: white;
            padding: 5px 10px;
            border-radius: 15px;
            margin-right: 10px;
            margin-bottom: 10px;
        }
        
        .feature-tag {
            display: inline-block;
            background-color: #2c3e50;
            color: #5dade2;
            padding: 5px 10px;
            border-radius: 4px;
            margin-right: 8px;
            margin-bottom: 8px;
            font-size: 14px;
            border: 1px solid #3498db;
        }
        
        /* Architecture Section */
        section#architecture {
            background-color: #121212;
        }
        
        /* Training Section */
        section#training {
            background-color: #121212;
        }
        
        /* Conclusions Section */
        section#conclusions {
            background-color: #121212;
        }
        
        /* Resources Section */
        section#resources {
            background-color: #121212;
        }
        
        /* Validation Results Section */
        section#validation {
            background-color: #121212;
        }
        
        /* Change all warning/notice boxes to dark background with light text */
        .warning-box, .data-point, .notice-box, .metrics-box {
            background-color: #1e2126 !important;
            color: #f0f0f0 !important;
            border-left: 5px solid #e74c3c !important;
        }
        
        .warning-box h3, .warning-box h4, .data-point h3, .data-point h4, .notice-box h3, .notice-box h4 {
            color: #f1948a !important;
        }
        
        .warning-box p, .data-point p, .notice-box p, .metrics-box p, 
        .warning-box li, .data-point li, .notice-box li, .metrics-box li {
            color: #f0f0f0 !important;
        }
        
        .warning-box strong, .data-point strong, .notice-box strong {
            color: #f39c12 !important;
        }
        
        /* Fix metric boxes */
        .metric-card {
            background-color: #2c3e50 !important;
            border: 1px solid #3498db !important;
        }
        
        .metric-card h4 {
            color: #f0f0f0 !important;
        }
        
        .metric-value {
            color: #3498db !important;
        }
        
        /* Fix architecture boxes */
        .pipeline-stage, .model-section {
            background-color: #1e2126 !important;
        }
        
        .pipeline-stage ul, .model-section ul {
            color: #f0f0f0 !important;
        }
        
        .pipeline-stage .stage-title, .model-section h3 {
            color: #5dade2 !important;
        }
        
        /* Fix low contrast text in tables */
        table, th, td {
            color: #f0f0f0 !important;
        }
        
        /* Fix visualization card text */
        .visualization-card .content {
            color: #f0f0f0 !important;
            background-color: #2c3e50 !important;
        }
        
        .visualization-card h3 {
            background-color: #1e2126 !important;
            color: #5dade2 !important;
        }
        
        /* Fix tabs */
        .tab-content {
            background-color: #2c3e50 !important;
            color: #f0f0f0 !important;
        }
        
        /* Center elements in Interactive Feature Matrix */
        .metrics-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 20px;
            justify-items: center;
            text-align: center;
        }
        
        .metric-card {
            width: 100%;
            padding: 20px;
            border-radius: 10px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
            background-color: #2c3e50; /* Default background */
            color: white;
        }
        
        .color-slider {
            -webkit-appearance: none;
            width: 80%;
            height: 10px;
            border-radius: 5px;
            background: linear-gradient(to right, 
                hsl(0, 80%, 40%), 
                hsl(60, 80%, 40%), 
                hsl(120, 80%, 40%), 
                hsl(180, 80%, 40%), 
                hsl(240, 80%, 40%), 
                hsl(300, 80%, 40%),
                hsl(360, 80%, 40%));
            outline: none;
        }
        
        .color-slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: white;
            cursor: pointer;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.3);
        }
        
        .color-slider::-moz-range-thumb {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: white;
            cursor: pointer;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.3);
        }
        
        .metric-card h4 {
            margin-top: 0;
            margin-bottom: 10px;
            color: white;
            text-align: center;
        }
        
        .metric-value {
            font-size: 24px;
            font-weight: bold;
            color: white;
            text-align: center;
        }
        
        .dive-selector {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin-bottom: 20px;
        }
        
        .dive-selector input {
            width: 80%;
            margin-top: 10px;
        }
        
        .tab-content {
            display: none;
            text-align: center;
        }
        
        .tab-content.active {
            display: block;
        }
        
        .visualization-container {
            display: flex;
            justify-content: center;
            align-items: center;
            flex-wrap: wrap;
        }
        
        .visualization-card {
            width: 100%;
            max-width: 800px;
            margin: 20px;
            text-align: center;
        }
        
        .visualization-card h3 {
            margin-top: 0;
            margin-bottom: 15px;
            text-align: center;
        }
        
        .visualization-card img {
            max-width: 100%;
            height: auto;
            margin: 0 auto;
            display: block;
        }
        
        .visualization-card .content {
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        
        /* Training Section Styles */
        .training-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 15px;
        }
        
        .training-card {
            background: #2c3e50;
            padding: 15px;
            border-radius: 8px;
            color: #f0f0f0;
        }
        
        .data-prep-card {
            border-left: 4px solid #3498db;
        }
        
        .training-config-card {
            border-left: 4px solid #e74c3c;
        }
        
        .training-card h4 {
            margin-top: 0;
            color: #3498db;
            margin-bottom: 10px;
        }
        
        .training-config-card h4 {
            color: #e74c3c;
        }
        
        .training-process {
            background: #2c3e50;
            padding: 20px;
            border-radius: 8px;
            color: #f0f0f0;
            margin-top: 15px;
        }
        
        .process-steps {
            display: flex;
            justify-content: space-between;
            flex-wrap: wrap;
            margin-bottom: 20px;
        }
        
        .process-step {
            flex: 1;
            text-align: center;
            padding: 0 10px;
            min-width: 150px;
            margin-bottom: 10px;
        }
        
        .step-title {
            font-weight: bold;
            margin-bottom: 5px;
            color: #3498db;
        }
        
        .augmentation-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 15px;
            color: #f0f0f0;
            background-color: #1e2126;
        }
        
        .augmentation-table th {
            background-color: #2c3e50;
            border: 1px solid #555;
            padding: 8px;
            text-align: left;
        }
        
        .augmentation-table td {
            border: 1px solid #555;
            padding: 8px;
        }
        
        .metrics-note {
            background-color: #2c3e50;
            border-left: 5px solid #e74c3c;
            padding: 15px;
            margin: 15px 0;
            border-radius: 4px;
        }
        
        .metrics-note h4 {
            color: #f1948a;
            margin-top: 0;
        }
        
        /* System Architecture Styles */
        .architecture-container {
            max-width: 1000px;
            margin: 0 auto 30px auto;
            font-family: 'Arial', sans-serif;
        }
        
        .architecture-card {
            border: 2px solid #3498db;
            border-radius: 8px;
            background: #1e2126;
            padding: 20px;
        }
        
        .architecture-title {
            text-align: center;
            margin-top: 0;
            color: #3498db;
            border-bottom: 1px solid #444;
            padding-bottom: 10px;
        }
        
        .pipeline-stages {
            display: flex;
            justify-content: space-between;
            margin: 30px 0;
            flex-wrap: wrap;
        }
        
        .pipeline-stage {
            flex: 1;
            min-width: 220px;
            margin: 10px;
            border: 2px solid;
            border-radius: 8px;
            background: #2c3e50;
            padding: 15px;
        }
        
        .stage-data-processing {
            border-color: #3498db;
        }
        
        .stage-feature-extraction {
            border-color: #9b59b6;
        }
        
        .stage-model-training {
            border-color: #2ecc71;
        }
        
        .stage-behavior-classification {
            border-color: #e74c3c;
        }
        
        .stage-title {
            font-weight: bold;
            text-align: center;
            margin-bottom: 10px;
            font-size: 16px;
        }
        
        .stage-data-processing .stage-title {
            color: #3498db;
        }
        
        .stage-feature-extraction .stage-title {
            color: #9b59b6;
        }
        
        .stage-model-training .stage-title {
            color: #2ecc71;
        }
        
        .stage-behavior-classification .stage-title {
            color: #e74c3c;
        }
        
        .stage-list {
            margin: 0;
            padding-left: 20px;
            font-size: 14px;
            color: #f0f0f0;
        }
        
        .stage-list li {
            margin-bottom: 8px;
        }
        
        .stage-arrow {
            text-align: center;
            margin-top: 15px;
        }
        
        .stage-data-processing .stage-arrow {
            color: #3498db;
        }
        
        .stage-feature-extraction .stage-arrow {
            color: #9b59b6;
        }
        
        .stage-model-training .stage-arrow {
            color: #2ecc71;
        }
        
        /* Left-side presentation navbar with collapsible functionality */
        .presentation-sidebar {
            position: fixed;
            left: -180px; /* Start collapsed - only show the tab */
            top: 0;
            width: 200px;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.9);
            color: white;
            padding-top: 60px;
            z-index: 900;
            display: flex;
            flex-direction: column;
            box-shadow: 2px 0 10px rgba(0, 0, 0, 0.5);
            transition: left 0.3s ease-in-out;
        }
        
        .presentation-sidebar.expanded {
            left: 0;
        }
        
        .sidebar-tab {
            position: absolute;
            left: 200px;
            top: 50%;
            transform: translateY(-50%);
            width: 30px;
            height: 80px;
            background-color: rgba(0, 0, 0, 0.8);
            border-top-right-radius: 5px;
            border-bottom-right-radius: 5px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 2px 0 5px rgba(0, 0, 0, 0.3);
        }
        
        .sidebar-tab-icon {
            width: 12px;
            height: 30px;
            position: relative;
        }
        
        .sidebar-tab-icon:before {
            content: '';
            position: absolute;
            top: 10px;
            left: 0;
            width: 12px;
            height: 2px;
            background-color: white;
            transform: rotate(45deg);
        }
        
        .sidebar-tab-icon:after {
            content: '';
            position: absolute;
            top: 18px;
            left: 0;
            width: 12px;
            height: 2px;
            background-color: white;
            transform: rotate(-45deg);
        }
        
        .presentation-sidebar.expanded .sidebar-tab-icon:before {
            transform: rotate(-45deg);
        }
        
        .presentation-sidebar.expanded .sidebar-tab-icon:after {
            transform: rotate(45deg);
        }
        
        .presentation-sidebar-title {
            padding: 10px 15px;
            text-align: center;
            color: #3498db;
            font-size: 14px;
            border-bottom: 1px solid #333;
            margin-bottom: 15px;
        }
        
        .presentation-nav {
            display: flex;
            flex-direction: column;
            padding: 0 10px;
            overflow-y: auto;
            flex: 1;
        }
        
        .presentation-nav button {
            background: transparent;
            border: none;
            color: white;
            padding: 8px 12px;
            text-align: left;
            margin: 3px 0;
            cursor: pointer;
            border-radius: 3px;
            transition: all 0.3s;
        }
        
        .presentation-nav button:hover {
            background-color: rgba(52, 152, 219, 0.2);
        }
        
        .presentation-nav button.active {
            background-color: rgba(52, 152, 219, 0.4);
            border-left: 3px solid #3498db;
        }
        
        /* Main navbar with branding and mobile hamburger */
        .navbar {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            display: flex;
            justify-content: space-between;
            align-items: center;
            background-color: #2c3e50;
            color: white;
            padding: 0;
            z-index: 950;
            transition: all 0.3s ease;
        }
        
        .navbar-brand {
            display: flex;
            align-items: center;
            padding: 0 15px;
            font-weight: bold;
            color: white;
            text-decoration: none;
            height: 50px;
            font-size: 18px;
        }
        
        .navbar-brand span {
            margin-left: 10px;
        }
        
        .navbar-logo {
            width: 30px;
            height: 30px;
            background-color: #3498db;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            font-size: 16px;
        }
        
        .navbar-links {
            display: flex;
            height: 100%;
        }
        
        .navbar-links a {
            color: white;
            text-decoration: none;
            padding: 0 15px;
            display: flex;
            align-items: center;
            height: 50px;
            transition: background-color 0.3s;
        }
        
        .navbar-links a:hover {
            background-color: #3498db;
        }
        
        .hamburger-menu {
            display: none;
            flex-direction: column;
            justify-content: space-between;
            width: 30px;
            height: 22px;
            padding: 14px 15px;
            cursor: pointer;
            z-index: 960; /* Ensure hamburger stays above the menu */
        }
        
        .hamburger-line {
            width: 100%;
            height: 3px;
            background-color: white;
            transition: all 0.3s ease;
        }
        
        /* Adjust content for fixed navbar */
        #content-container {
            padding-top: 60px;
            transition: margin-left 0.3s ease;
        }
        
        /* Mobile Responsive Adjustments */
        @media (max-width: 768px) {
            .navbar-links {
                position: fixed;
                top: 50px;
                right: -100%;
                flex-direction: column;
                background-color: #2c3e50;
                width: 70%;
                height: calc(100% - 50px);
                transition: right 0.3s ease;
                overflow-y: auto;
                box-shadow: -2px 0 5px rgba(0, 0, 0, 0.3);
                z-index: 955; /* Ensure menu is above content but below hamburger */
            }
            
            .navbar-links.active {
                right: 0;
            }
            
            .navbar-links a {
                width: 100%;
                padding: 15px;
                height: auto;
                border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            }
            
            .hamburger-menu {
                display: flex;
            }
            
            .hamburger-menu.active .hamburger-line:nth-child(1) {
                transform: translateY(9px) rotate(45deg);
            }
            
            .hamburger-menu.active .hamburger-line:nth-child(2) {
                opacity: 0;
            }
            
            .hamburger-menu.active .hamburger-line:nth-child(3) {
                transform: translateY(-9px) rotate(-45deg);
            }
            
            /* Adjust content for mobile */
            section {
                margin-left: 0;
            }
            
            /* Make presentation sidebar even slimmer on mobile */
            .presentation-sidebar {
                left: -190px;
                width: 190px;
            }
        }
        
        @media (min-width: 769px) {
            section {
                margin-left: 20px;
                transition: margin-left 0.3s ease;
            }
            
            .presentation-sidebar.expanded ~ #content-container section {
                margin-left: 220px;
            }
        }
    </style>
</head>
<body>
    <!-- Rubric Slides Modal -->
    <div id="rubricModal" class="rubric-modal">
        <!-- Title Slide -->
        <div id="title-slide" class="rubric-slide" style="max-height: 100vh; overflow-y: auto;">
            <span class="close-modal">&times;</span>
            <h2 style="margin-bottom:10px;">Whale Behavior Classification</h2>
            <div class="slide-section">
                <h3 style="margin-bottom:8px;">Project Overview</h3>
                <p style="margin-bottom:10px;">A complete pipeline for classifying and visualizing whale behaviors using sensor data.</p>
                <div class="highlight-box">
                    <p style="font-size: 14px;">Key contributions include a hierarchical visualization system, a minGRU model tailored to limited data, a feature extraction strategy for high-dimensional sensor inputs, and a dashboard interface for behavior exploration.</p>
                </div>
            </div>
            <div class="slide-section">
                <h3 style="margin-bottom:8px;">Project Goals</h3>
                <div class="highlight-box">
                    <p style="font-size: 14px;"><strong>Goals:</strong> Acquire more annotations from the Parks Lab; implement parallel RNN processing; explore architecture search via Optisim; refine the model with additional data; apply transfer learning to extend generalization.</p>
                </div>
            </div>
        </div>
        
        <!-- Problem Slide -->
        <div id="problem-slide" class="rubric-slide">
            <span class="close-modal">&times;</span>
            <h2>Problem & Stakeholders</h2>
            
            <div class="slide-section">
                <h3>Domain Problem</h3>
                <p>Marine mammal behavior analysis provides key data for conservation and research. Current behavior classification methods depend on manual expert annotations, creating bottlenecks in data processing and limiting analysis scale.</p>
            </div>
            
            <div class="slide-section">
                <h3>Primary Stakeholder</h3>
                <div class="data-point">
                    <p>The Parks Lab at Syracuse University's Bioinspired Institute collects whale sensor data and requires improved methods for behavior classification and large-scale analysis.</p>
                </div>
            </div>
            
            <div class="slide-section">
                <h3>Stakeholder Needs</h3>
                <ul>
                    <li>Automated classification of behaviors from sensor data</li>
                    <li>Visualization tools for dive patterns and behaviors</li>
                    <li>Detection of novel behavior patterns</li>
                    <li>Energy expenditure analysis for different behaviors</li>
                </ul>
            </div>
        </div>
        
        <!-- Solution Slide -->
        <div id="solution-slide" class="rubric-slide">
            <span class="close-modal">&times;</span>
            <h2>Envisioned Solution</h2>
            
            <div class="slide-section">
                <h3>Solution Overview</h3>
                <p>A comprehensive behavior analysis pipeline that combines machine learning classification with interactive visualization tools to transform raw sensor data into actionable insights for marine biologists.</p>
            </div>
            
            <div class="slide-section">
                <h3>Key Components</h3>
                <ul>
                    <li><strong>Hierarchical Classification Model:</strong> Using minGRU architecture to classify whale behaviors from sensor data</li>
                    <li><strong>Interactive Visualizations:</strong> Tools for exploring dive patterns and associated behaviors</li>
                    <li><strong>Dimensionality Reduction:</strong> Techniques to identify patterns and clusters in high-dimensional sensor data</li>
                    <li><strong>Energetics Analysis:</strong> Models to estimate energy expenditure associated with different behaviors</li>
                </ul>
            </div>
            
            <div class="slide-section">
                <h3>Connection to Stakeholder Needs</h3>
                <p>This solution enables the Parks Lab to efficiently process large volumes of sensor data, automatically classify behaviors, visualize patterns, and gain insights that would be impossible with manual annotation alone.</p>
            </div>
        </div>
        
        <!-- Data Slide -->
        <div id="data-slide" class="rubric-slide">
            <span class="close-modal">&times;</span>
            <h2>Data</h2>
            
            <div class="slide-section">
                <h3>Dataset Overview</h3>
                <div style="display: flex; justify-content: space-between; margin-bottom: 20px;">
                    <div style="flex: 1; padding-right: 20px;">
                        <ul style="margin-top: 10px; margin-bottom: 20px;">
                            <li><strong>Source:</strong> Syracuse University's Bioinspired Institute Parks Lab</li>
                            <li><strong>Format:</strong> HDF5 files containing sensor readings from whale tags</li>
                            <li><strong>Scope:</strong> ~20,000 frames with approximately 50 expert annotations</li>
                            <li><strong>Features:</strong> Accelerometer (3 axes), gyroscope (3 axes), depth, etc.</li>
                            <li><strong>Behaviors:</strong> 9 distinct behavior classes (Feeding_loop, Kick_feeding, etc.)</li>
                        </ul>
                    </div>
                    <div style="flex: 1;">
                        <div style="background-color: #343a40; border-left: 4px solid #e74c3c; padding: 15px; border-radius: 4px;">
                            <h4 style="color: #f8f9fa; margin-top: 0; margin-bottom: 10px;">Critical Limitations</h4>
                            <ul style="color: #f8f9fa; margin-bottom: 0; padding-left: 20px;">
                                <li>Severe class imbalance (6 vs 216 samples for different behaviors)</li>
                                <li>Limited annotation volume (~50 total expert-validated behaviors)</li>
                                <li>Most behavior classes have fewer than 10 samples</li>
                                <li>Some behaviors have only a single example</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="slide-section">
                <h3>Data Distribution</h3>
                <div style="display: flex; align-items: center; justify-content: space-between; margin-top: 10px;">
                    <div style="flex: 1; height: 160px; background-color: #2c3e50; border-radius: 6px; padding: 15px; display: flex; flex-direction: column; justify-content: space-between; margin-right: 15px;">
                        <h4 style="margin-top: 0; color: #3498db;">Behavior Counts</h4>
                        <div style="display: flex; height: 100px;">
                            <!-- Bar chart visualization -->
                            <div style="display: flex; flex-direction: column-reverse; align-items: center; flex: 1;">
                                <div style="font-size: 10px; color: #aaa; margin-top: 5px;">Feed_L</div>
                                <div style="background-color: #3498db; width: 20px; height: 35%; border-radius: 3px 3px 0 0;"></div>
                            </div>
                            <div style="display: flex; flex-direction: column-reverse; align-items: center; flex: 1;">
                                <div style="font-size: 10px; color: #aaa; margin-top: 5px;">Kick_F</div>
                                <div style="background-color: #2ecc71; width: 20px; height: 85%; border-radius: 3px 3px 0 0;"></div>
                            </div>
                            <div style="display: flex; flex-direction: column-reverse; align-items: center; flex: 1;">
                                <div style="font-size: 10px; color: #aaa; margin-top: 5px;">Nood_F</div>
                                <div style="background-color: #e74c3c; width: 20px; height: 10%; border-radius: 3px 3px 0 0;"></div>
                            </div>
                            <div style="display: flex; flex-direction: column-reverse; align-items: center; flex: 1;">
                                <div style="font-size: 10px; color: #aaa; margin-top: 5px;">Trav</div>
                                <div style="background-color: #f39c12; width: 20px; height: 50%; border-radius: 3px 3px 0 0;"></div>
                            </div>
                            <div style="display: flex; flex-direction: column-reverse; align-items: center; flex: 1;">
                                <div style="font-size: 10px; color: #aaa; margin-top: 5px;">Rest</div>
                                <div style="background-color: #9b59b6; width: 20px; height: 20%; border-radius: 3px 3px 0 0;"></div>
                            </div>
                        </div>
                    </div>
                    
                    <div style="flex: 1; height: 160px; background-color: #2c3e50; border-radius: 6px; padding: 15px; display: flex; flex-direction: column; justify-content: space-between;">
                        <h4 style="margin-top: 0; color: #3498db;">Sequence Durations</h4>
                        <div style="margin-top: 10px;">
                            <div style="margin: 8px 0;">
                                <div style="display: flex; justify-content: space-between; margin-bottom: 5px;">
                                    <span style="color: #f8f9fa; font-size: 12px;">Average</span>
                                    <span style="color: #3498db; font-size: 12px;">78.4 seconds</span>
                                </div>
                                <div style="background-color: #1e2126; height: 8px; border-radius: 4px; overflow: hidden;">
                                    <div style="background-color: #3498db; width: 78%; height: 100%;"></div>
                                </div>
                            </div>
                            <div style="margin: 8px 0;">
                                <div style="display: flex; justify-content: space-between; margin-bottom: 5px;">
                                    <span style="color: #f8f9fa; font-size: 12px;">Median</span>
                                    <span style="color: #2ecc71; font-size: 12px;">59.6 seconds</span>
                                </div>
                                <div style="background-color: #1e2126; height: 8px; border-radius: 4px; overflow: hidden;">
                                    <div style="background-color: #2ecc71; width: 60%; height: 100%;"></div>
                                </div>
                            </div>
                            <div style="margin: 8px 0;">
                                <div style="display: flex; justify-content: space-between; margin-bottom: 5px;">
                                    <span style="color: #f8f9fa; font-size: 12px;">Range</span>
                                    <span style="color: #e74c3c; font-size: 12px;">7.2 - 216.5 seconds</span>
                                </div>
                                <div style="background-color: #1e2126; height: 8px; border-radius: 4px; overflow: hidden; position: relative;">
                                    <div style="background-color: #e74c3c; position: absolute; left: 7%; width: 85%; height: 100%;"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
        </div>
        
         <!-- Results Slide -->
         <div id="results-slide" class="rubric-slide">
            <span class="close-modal">&times;</span>
            <h2>Initial Results</h2>
            
            <div class="slide-section">
                <h3>Dimensionality Reduction Insights</h3>
                <div style="display: flex; justify-content: space-between; margin-bottom: 20px;">
                    <div style="flex: 2; padding-right: 20px;">
                        <!-- Key Metrics -->
                        <div style="background-color: #2c3e50; border-radius: 6px; padding: 15px; margin-bottom: 15px;">
                            <div style="display: flex; align-items: center; margin-bottom: 10px;">
                                <div style="background-color: #3498db; width: 5px; height: 40px; margin-right: 15px; border-radius: 2px;"></div>
                                <div>
                                    <div style="color: #3498db; font-weight: bold; margin-bottom: 2px;">Trustworthiness Score</div>
                                    <div style="color: #f8f9fa;">99.3% - PCA embeddings preserve neighborhood structure</div>
                                </div>
                            </div>
                            <div style="display: flex; align-items: center; margin-bottom: 10px;">
                                <div style="background-color: #2ecc71; width: 5px; height: 40px; margin-right: 15px; border-radius: 2px;"></div>
                                <div>
                                    <div style="color: #2ecc71; font-weight: bold; margin-bottom: 2px;">Feature Matrix Optimization</div>
                                    <div style="color: #f8f9fa;">Reduced from 167 to 40-80 most informative features</div>
                                </div>
                            </div>
                            <div style="display: flex; align-items: center;">
                                <div style="background-color: #e74c3c; width: 5px; height: 40px; margin-right: 15px; border-radius: 2px;"></div>
                                <div>
                                    <div style="color: #e74c3c; font-weight: bold; margin-bottom: 2px;">Sequence Length Analysis</div>
                                    <div style="color: #f8f9fa;">Optimal length: 384 timesteps for standardization</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div style="flex: 1;">
                        <!-- Feature Importance Visualization -->
                        <div style="background-color: #2c3e50; border-radius: 6px; padding: 15px;">
                            <h4 style="color: #3498db; margin-top: 0; margin-bottom: 10px;">Most Informative Features</h4>
                            <div style="display: flex; flex-wrap: wrap; gap: 8px;">
                                <div style="background-color: #1e2126; color: #3498db; font-size: 12px; padding: 5px 10px; border-radius: 15px; border: 1px solid #3498db;">Depth variance</div>
                                <div style="background-color: #1e2126; color: #2ecc71; font-size: 12px; padding: 5px 10px; border-radius: 15px; border: 1px solid #2ecc71;">Roll angle std</div>
                                <div style="background-color: #1e2126; color: #e74c3c; font-size: 12px; padding: 5px 10px; border-radius: 15px; border: 1px solid #e74c3c;">Y-accel peaks</div>
                                <div style="background-color: #1e2126; color: #f39c12; font-size: 12px; padding: 5px 10px; border-radius: 15px; border: 1px solid #f39c12;">Pitch stability</div>
                                <div style="background-color: #1e2126; color: #9b59b6; font-size: 12px; padding: 5px 10px; border-radius: 15px; border: 1px solid #9b59b6;">Depth profile</div>
                                <div style="background-color: #1e2126; color: #1abc9c; font-size: 12px; padding: 5px 10px; border-radius: 15px; border: 1px solid #1abc9c;">Heading changes</div>
                                <div style="background-color: #1e2126; color: #3498db; font-size: 12px; padding: 5px 10px; border-radius: 15px; border: 1px solid #3498db;">Z-accel FFT</div>
                                <div style="background-color: #1e2126; color: #e74c3c; font-size: 12px; padding: 5px 10px; border-radius: 15px; border: 1px solid #e74c3c;">Twist coefficient</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="slide-section">
                <h3>Classification Performance</h3>
                <div style="background-color: #2c3e50; border-radius: 6px; padding: 15px;">
                    <div style="display: flex; justify-content: space-between; gap: 20px;">
                        <div style="flex: 1;">
                            <h4 style="color: #3498db; margin-top: 0; margin-bottom: 10px;">Current Dataset Statistics</h4>
                            <ul style="color: #f8f9fa; padding-left: 20px; margin-bottom: 0;">
                                <li>50 labeled samples (excluding 'End' label)</li>
                                <li>167 features (111 static + 56 sequential)</li>
                                <li>10 unique behavior classes</li>
                            </ul>
                        </div>
                        <div style="flex: 1;">
                            <h4 style="color: #3498db; margin-top: 0; margin-bottom: 10px;">Technical Implementation</h4>
                            <ul style="color: #f8f9fa; padding-left: 20px; margin-bottom: 0;">
                                <li>MinGRU with optimized parallel forward pass</li>
                                <li>Comprehensive feature extraction pipeline</li>
                                <li>Window segmentation and normalization</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
            
        </div>
        
        <!-- Challenges Slide -->
        <div id="challenges-slide" class="rubric-slide">
            <span class="close-modal">&times;</span>
            <h2>Challenges</h2>
            
            <div class="slide-section">
                    <h3>Data Challenges</h3>
                <ul>
                                <li>Extreme data scarcity (only ~50 total expert annotations)</li>
                                <li>Severe class imbalance (some behaviors have only 1 sample)</li>
                                <li>Insufficient examples for proper validation</li>
                                <li>High dimensionality of sensor data (3 axes  384 timesteps)</li>
                            </ul>
                
                <div class="data-point">
                    <p><strong>Approach:</strong> SMOTE augmentation, class weights, and dimensional reduction techniques have been applied to mitigate these challenges, but they cannot overcome the fundamental lack of ground truth data.</p>
                    </div>
                </div>
                
            <div class="slide-section">
                    <h3>Model Challenges</h3>
                <ul>
                                <li>Training instability with small batch sizes</li>
                                <li>Overfitting indicators in validation performance</li>
                                <li>Limited generalization to unseen whales</li>
                                <li>Difficulty distinguishing similar behaviors</li>
                            </ul>
                
                <div class="data-point">
                    <p><strong>Approach:</strong> Implementation of the minGRU architecture with fewer parameters (39,690 vs ~120K) and a hierarchical classification approach. Also employed cross-validation with leave-one-out by whale ID.</p>
                </div>
            </div>
        </div>
        
        <!-- Validation Slide -->
        <div id="validation-slide" class="rubric-slide" style="max-height: 100vh; overflow-y: auto;">
            <span class="close-modal">&times;</span>
            <h2>Validation Results: Why The Current Scenario Fails</h2>
            <div class="slide-section">
                <h3>The Analogy</h3>
                <div class="highlight-box">
                    <p>Imagine you want to train a model to tell apples from oranges. But your entire training set only contains apples, all labeled as "apple."<br>
                    The model quickly learns to always say "apple" and if you test it on more apples, it gets 100% accuracy. But if you ask it to classify the whole produce section (apples, oranges, bananas, etc.), it will still say "apple" every time, and be wrong most of the time.</p>
                </div>
            </div>
            <div class="slide-section">
                <h3>What Actually Happened Here</h3>
                <ul>
                    <li>The dataset: 3,121 windows, all labeled as class 0 ("Unlabeled").</li>
                    <li>This is split into train/val/test sets (70/15/15).</li>
                    <li>The model instantly learns to always predict class 0.</li>
                    <li>Validation and test accuracy are always a completely trivial value.</li>
                    <li>Loss drops to zero, but the model isn't learning anything about real behaviors.</li>
                </ul>
            </div>
            <div class="slide-section">
                <h3>Why This Matters</h3>
                <div class="data-point">
                    <ul>
                        <li>There's no way to validate behavior classification without labeled data for multiple classes.</li>
                        <li>The current validation just confirms the model learned the trivial solution: "always predict class 0."</li>
                        <li>To proceed further, more expert-annotated data with real behavior classes are required.</li>
                    </ul>
                </div>
            </div>
            <div class="slide-section">
                <h3>Summary of Classification Efforts</h3>
                <ul>
                    <li><strong>Model:</strong> Implemented MinGRU classifier (sequential & parallel).</li>
                    <li><strong>Data:</strong> Feature extraction, windowing, normalization.</li>
                    <li><strong>Training:</strong> Used MPS acceleration, early stopping, learning rate scheduling.</li>
                    <li><strong>Findings:</strong> Model always predicts class 0; parallel implementation works but can't be meaningfully tested.</li>
                </ul>
            </div>
            <div class="slide-section">
                <h3>What's Needed Next</h3>
                <ul>
                    <li>Labeled data with multiple behavior classes.</li>
                    <li>Ground truth annotations from experts.</li>
                    <li>Addressing class imbalance once labels are available.</li>
                </ul>
            </div>
            <div class="slide-section">
                <h3>Visualizations</h3>
                <ul>
                    <li>MinGRU architecture diagram (if available)</li>
                    <li>Feature importance plot (if available)</li>
                    <li>Data distribution plot (if available)</li>
                </ul>
                <p style="color:#aaa;">(Only include these if they are meaningful and available.)</p>
            </div>
        </div>
        
        <!-- Plan Slide -->
        <div id="plan-slide" class="rubric-slide">
            <span class="close-modal">&times;</span>
            <h2>Data Needs & Next Steps</h2>
            
            <div class="slide-section">
                <h3>Critical Data Limitations</h3>
                <ul>
                    <li><strong>Extreme Data Scarcity:</strong> Only ~20,000 frames with just 50 expert annotations total</li>
                    <li><strong>Insufficient Examples:</strong> Most behavior classes have fewer than 10 samples</li>
                    <li><strong>Validation Impossible:</strong> Cannot validate without proper ground truth dataset</li>
                    <li><strong>Augmentation Limits:</strong> SMOTE cannot overcome lack of diverse examples</li>
                </ul>
            </div>
            
            <div class="slide-section">
                <h3>Primary Data Needs</h3>
                <p>This project <strong>urgently requires</strong> additional expert-validated behavior annotations from the Parks Lab, particularly for:</p>
                <ul>
                    <li>Underrepresented behavior classes with fewer than 10 examples</li>
                    <li>A proper validation set with sufficient examples of each behavior class</li>
                    <li>More diverse contexts and environmental conditions</li>
                </ul>
            </div>
            
            <div class="slide-section">
                <h3>Final Deliverable</h3>
                <p>The final deliverable will include:</p>
                <ul>
                    <li>A fully functional behavior classification pipeline</li>
                    <li>Interactive dashboard for visualizing dive patterns and behaviors</li>
                    <li>Documentation for Parks Lab researchers to use and extend the system</li>
                    <li>Analysis of model performance and limitations</li>
                    <li>Recommendations for future data collection to improve classification</li>
                </ul>
            </div>
        </div>
    </div>
    
    <!-- Left-side presentation navbar with reveal tab -->
    <div class="presentation-sidebar" id="presentationSidebar">
        <div class="sidebar-tab" id="sidebarTab">
            <div class="sidebar-tab-icon"></div>
        </div>
        <div class="presentation-sidebar-title">
            Whale Behavior Analysis<br>
            <span style="font-size: 12px;">Project Status Presentation</span>
        </div>
        <nav class="presentation-nav">
            <button onclick="scrollToSectionAndShowModal('overview', 'title-slide')" class="active">Title</button>
            <button onclick="scrollToSectionAndShowModal('overview', 'problem-slide')">Problem</button>
            <button onclick="scrollToSectionAndShowModal('hierarchical', 'solution-slide')">Solution</button>
            <button onclick="scrollToSectionAndShowModal('frames', 'data-slide')">Data</button>
            <button onclick="scrollToSectionAndShowModal('dimension', 'results-slide')">Results</button>
            <button onclick="scrollToSectionAndShowModal('architecture', 'challenges-slide')">Challenges</button>
            <button onclick="scrollToSectionAndShowModal('validation', 'validation-slide')">Validation</button>
            <button onclick="scrollToSectionAndShowModal('conclusions', 'plan-slide')">Plan</button>
    </nav>
    </div>
    
    <!-- Main navbar with hamburger menu for mobile -->
    <nav class="navbar" id="mainNavbar">
        <a href="#" class="navbar-brand">
            <div class="navbar-logo">W</div>
            <span>Whale Behavior Analyzer</span>
        </a>
        <div class="hamburger-menu" id="hamburgerMenu">
            <div class="hamburger-line"></div>
            <div class="hamburger-line"></div>
            <div class="hamburger-line"></div>
        </div>
        <div class="navbar-links" id="navbarLinks">
        <a href="#overview">Overview</a>
        <a href="#frames">Dive Frames</a>
        <a href="#hierarchical">Hierarchical Visualization</a>
            <a href="#interactive">Interactive Dashboard</a>
        <a href="#dimension">Dimensionality Reduction</a>
        <a href="#training">Training</a>
        <a href="#architecture">Architecture</a>
        <a href="#conclusions">Conclusions</a>
        <a href="#resources">Resources</a>
        </div>
    </nav>

    <div id="content-container">
        <!-- Overview Section -->
        <section id="overview">
            <div class="section-content">
                <h1>Whale Behavior Analysis</h1>
                <h2>Overview of 128 Detected Dives</h2>
                <img src="assets/dive_overview.png" alt="Overview of 128 Detected Dives" class="overview-img">
                <div class="card">
                    <p>This visualization summarizes 128 detected dive patterns, showing depth variations and relative twistiness across multiple dives. Color intensity indicates the relative twistiness of movement during each dive segment.</p>
                </div>
                
                <div class="card">
                    <h3>Project Goals</h3>
                    <ul>
                        <li><strong>Annotation Acquisition:</strong> Acquire additional expert annotations from the Parks Lab</li>
                        <li><strong>Parallelization of RNN:</strong> Implement parallel processing in the minGRU architecture</li>
                        <li><strong>Architecture Optimization:</strong> Explore Optisim/complexity-aware model architecture searching</li>
                        <li><strong>Model Refinement:</strong> Fine-tune as more data becomes available</li>
                        <li><strong>Transfer Learning:</strong> Maximize utility of limited data</li>
                    </ul>
                </div>
            </div>
        </section>

        <!-- Data Section -->
        <section id="frames">
            <div class="section-content">
                <h2>Dive Frame Analysis</h2>
                <div class="frames-container">
                    <div class="frame-viewer">
                        <img id="current-frame" src="assets/dive_frames/dive_001.png" alt="Dive Frame" class="frame-img">
                        <div class="frame-counter">Frame: <span id="frame-number">1</span> of 128</div>
                    </div>
                    <div class="frame-controls">
                        <button id="prev-frame">Previous</button>
                        <button id="next-frame">Next</button>
                        <button id="play-frames">Play</button>
                    </div>
                    <input type="range" min="1" max="128" value="1" class="frame-selector" id="frame-slider">
                </div>
                <div class="card">
                    <p>Scroll through individual dive frames to analyze specific patterns and behaviors. Each frame represents a unique dive profile with depth and orientation data, extracted from the whale tagging dataset.</p>
                </div>
                
                <!-- Interactive Feature Matrix (moved from Dimensionality Reduction section) -->
                <div class="card">
                    <h3>Interactive Data Explorer Tool</h3>
                    <p>Explore the relationships between different behavioral patterns and sensor data metrics.</p>
                
                <div class="tab-container">
                    <div class="tab-buttons">
                            <button class="tab-button active" onclick="showTab('dive-metrics')">Dive Metrics</button>
                            <button class="tab-button" onclick="showTab('energetics')">Energetics</button>
                            <button class="tab-button" onclick="showTab('behavior-comparison')">Behavior Comparison</button>
                    </div>
                    
                        <div class="tab-content active" id="dive-metrics">
                        <div class="dive-selector">
                                <label for="dive-selector">Select Dive: <span id="dive-number">1</span></label>
                                <input type="range" min="1" max="128" value="1" id="dive-selector">
                        </div>
                        
                        <div class="metrics-grid">
                            <div class="metric-card">
                                <h4>Maximum Depth</h4>
                                <div class="metric-value" id="max-depth">124.3 m</div>
                            </div>
                            <div class="metric-card">
                                <h4>Duration</h4>
                                <div class="metric-value" id="duration">175 s</div>
                            </div>
                            <div class="metric-card">
                                <h4>Descent Rate</h4>
                                <div class="metric-value" id="descent-rate">1.7 m/s</div>
                            </div>
                            <div class="metric-card">
                                <h4>Ascent Rate</h4>
                                <div class="metric-value" id="ascent-rate">1.2 m/s</div>
                            </div>
                            <div class="metric-card">
                                <h4>Twistiness</h4>
                                <div class="metric-value" id="twistiness">0.68</div>
                            </div>
                            <div class="metric-card">
                                <h4>Energy Cost</h4>
                                <div class="metric-value" id="energy-cost">1240 J</div>
                            </div>
                            <div class="metric-card">
                                <h4>Roll Variance</h4>
                                <div class="metric-value" id="roll-variance">0.47</div>
                            </div>
                            <div class="metric-card">
                                <h4>Behavior Class</h4>
                                <div class="metric-value" id="behavior-class">Foraging</div>
                            </div>
                        </div>
                    </div>
                    
                        <div class="tab-content" id="energetics">
                        <div class="visualization-container">
                            <div class="visualization-card">
                                    <h3>Dive Energetics Overview</h3>
                                <div class="content">
                                        <img src="assets/dive_energetics.png" alt="Dive Energetics Overview">
                                        <p>This visualization shows energy expenditure patterns across different dive behaviors.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                        <div class="tab-content" id="behavior-comparison">
                        <div class="visualization-container">
                            <div class="visualization-card">
                                <h3>Duration by Behavior Type</h3>
                                <img src="assets/dimensionality_reduction/duration_distribution.png" alt="Duration by Behavior Type">
                            </div>
                                </div>
                            </div>
                        </div>
                    </div>
            </div>
        </section>

        <!-- Hierarchical Visualization Section -->
        <section id="hierarchical">
            <div class="section-content">
                <h2>Hierarchical Dive Visualization</h2>
                <iframe src="visualizations/hierarchical_dive_visualization.html" title="Hierarchical Dive Visualization"></iframe>
                <div class="card">
                    <p>This hierarchical visualization allows you to explore the relationship between different dive patterns and identify clusters of similar behaviors. The visualization organizes dives based on their similarity in features like depth profile, duration, and movement patterns.</p>
                </div>
            </div>
        </section>

        <!-- Dimensionality Reduction Section -->
        <section id="dimension">
            <div class="section-content">
                <h2>Dimensionality Reduction</h2>
                <div class="card">
                    <h3>Key Insights from Enhancement Modules</h3>
                    <p>The analysis revealed several critical insights about the whale behavior data structure:</p>
                    <ul>
                        <li><strong>Trustworthiness Score (99.3%):</strong> The PCA embeddings successfully preserve local neighborhood structure from high-dimensional space, ensuring reliable visual interpretation.</li>
                        <li><strong>Feature Importance:</strong> From 167 original features (111 static + 56 sequential), a subset of 40-80 most informative features was identified that maintain high discriminative power while reducing noise.</li>
                        <li><strong>Sensor Significance:</strong> Analysis revealed which sensors (accelerometer, gyroscope, depth) provide the most valuable information for behavior identification.</li>
                        <li><strong>Duration Variability:</strong> Sequence length analysis showed significant variation in behavior durations, requiring careful standardization to balance information preservation and comparability.</li>
                    </ul>
                </div>
                
                <div class="card">
                    <h3>Sequential Processing with Window-Level Normalization</h3>
                    <p>Our enhanced sequential feature extraction system implements window-level normalization to improve pattern recognition in time-series whale behavior data:</p>
                    <ul>
                        <li><strong>Adaptive Window Segmentation:</strong> Sequences are dynamically segmented based on signal complexity, using smaller windows for rapidly changing signals and larger windows for stable regions.</li>
                        <li><strong>Per-Window Normalization:</strong> Each window is individually normalized, preserving local patterns that would be lost in global normalization, especially for behaviors with varying amplitude ranges.</li>
                        <li><strong>Multi-Channel Processing:</strong> Each sensor channel is processed independently before feature extraction, allowing channel-specific normalization to capture finer behavioral nuances.</li>
                        <li><strong>Feature Consistency:</strong> Consistent feature extraction across windows enables meaningful comparison between different behavior segments regardless of absolute magnitude.</li>
                    </ul>
                    <p>This approach significantly improves the model's ability to detect subtle behavior patterns by ensuring that important signal variations are preserved regardless of their absolute magnitude.</p>
                </div>
                
                <!-- Feature Matrix Sequences Visualization in place of the moved Interactive Feature Matrix -->
                <div class="card">
                    <h3>Feature Matrix Sequence Analysis</h3>
                    <p>The interactive sequential feature visualization allows you to explore patterns in time-series sensor data and how they translate to extracted features.</p>
                    
                    <div class="sequence-features-container" id="sequence-features">
                            <div class="sequence-selector">
                                <label for="sequence-selector">Select Sequence: <span id="sequence-number">1</span> of <span id="total-sequences">50</span></label>
                                <input type="range" min="1" max="50" value="1" id="sequence-selector">
                            </div>
                            
                            <div class="sequence-visualization">
                                <img src="assets/dimensionality_reduction/sequence_visualization_1.png" alt="Sequence Visualization" id="sequence-viz">
                            </div>
                            
                            <div class="best-features-grid">
                                <h4>Top 20 Features</h4>
                                <div id="best-features-grid" class="feature-grid-container">
                                    <!-- Will be populated by JavaScript -->
                                </div>
                            </div>
                            
                            <div class="metrics-grid">
                                <div class="metric-card">
                                    <h4>Sequence Length</h4>
                                    <div class="metric-value">384 steps</div>
                                </div>
                                <div class="metric-card">
                                    <h4>Feature Count</h4>
                                    <div class="metric-value">56</div>
                                </div>
                                <div class="metric-card">
                                    <h4>Time Features</h4>
                                    <div class="metric-value">29,088</div>
                                </div>
                                <div class="metric-card">
                                    <h4>Freq Features</h4>
                                    <div class="metric-value">66</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="card">
                    <h3>Integration with Parallel MinGRU Architecture</h3>
                    <p>Our window-normalized features are specifically designed to work with the parallel forward pass training of the MinGRU architecture:</p>
                    <ul>
                        <li><strong>Parallel Batch Processing:</strong> Normalized windows produce feature vectors that can be processed in parallel batches, maximizing GPU utilization during training.</li>
                        <li><strong>Reduced Sequence Variance:</strong> Window normalization reduces the variance in input sequences, making parallel training more stable and convergence more reliable.</li>
                        <li><strong>Feature Consistency:</strong> Normalized features maintain consistent statistical properties across different behavior sequences, allowing the MinGRU to better learn temporal patterns rather than absolute magnitudes.</li>
                        <li><strong>Computation Efficiency:</strong> Parallelized feature processing with normalized windows significantly reduces training time, enabling faster model iteration and experimentation.</li>
                    </ul>
                    <p>The combination of window-level normalization and parallel MinGRU processing creates a system that can efficiently detect behavior patterns across different individuals, conditions, and recording sessions, while maintaining computational efficiency.</p>
                </div>
                
                <div class="card">
                    <h3>Technical Implementation Details</h3>
                    <p>The implementation involves several key technical components:</p>
                    <ul>
                        <li><strong>Time Domain Features:</strong> Extract statistical properties from normalized windows (mean, standard deviation, median, range, percentiles) for each sensor channel.</li>
                        <li><strong>Frequency Domain Features:</strong> Process normalized signals to extract spectral properties (dominant frequency, spectral centroid, bandwidth, flatness, roll-off) to capture oscillatory patterns.</li>
                        <li><strong>SequenceProcessor:</strong> Handles varying-length sequences by intelligently padding, truncating, and normalizing windows based on signal characteristics.</li>
                        <li><strong>Parallel Data Loading:</strong> Customized DiveSequenceDataset for efficient batch loading of normalized feature windows during MinGRU training.</li>
                    </ul>
                    <p>This technical approach ensures that the feature extraction pipeline produces normalized, consistent features that can be effectively processed by the parallel MinGRU architecture, maximizing both model performance and computational efficiency.</p>
                </div>
                
                <div class="visualization-container">
                    <div class="visualization-row">
                        <div class="visualization-card">
                            <h3>Behavior Separation Matrix</h3>
                            <img src="assets/dimensionality_reduction/behavior_separation_matrix.png" alt="Behavior Separation Matrix">
                            <div class="content">
                                <p>This matrix shows separation clarity between different behaviors. Higher values (lighter colors) indicate better separation between behavior pairs.</p>
                            </div>
                        </div>
                        
                        <div class="visualization-card">
                            <h3>2D Methods Comparison</h3>
                            <img src="assets/dimensionality_reduction/method_comparison_2d.png" alt="2D Methods Comparison">
                            <div class="content">
                                <p>Comparison of different dimensionality reduction methods in 2D. Note how t-SNE emphasizes local clusters while PCA preserves global structure.</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="visualization-row">
                        <div class="visualization-card">
                            <h3>Annotation Duration Analysis</h3>
                            <img src="assets/dimensionality_reduction/duration_distribution.png" alt="Annotation Duration Analysis">
                            <div class="content">
                                <p>Distribution of annotation durations across behavior types, with mean duration at 78.38s and median at 59.60s.</p>
                            </div>
                        </div>
                        
                        <div class="visualization-card">
                            <h3>Sequence Length Optimization</h3>
                            <img src="assets/dimensionality_reduction/optimization_results.png" alt="Sequence Length Optimization">
                            <div class="content">
                                <p>Optimization results showing the trade-off between information loss and padding added. Optimal sequence length: 384.</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="visualization-row">
                        <div class="visualization-card">
                            <h3>Impact of Sequence Length on Standardization</h3>
                            <img src="assets/dimensionality_reduction/sequence_standardization.png" alt="Impact of Sequence Length on Standardization">
                            <div class="content">
                                <p>Analysis of how different sequence lengths affect downsampling and padding requirements.</p>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="card">
                    <h3>Technical Challenges Overcome</h3>
                    <ul>
                        <li><strong>Multi-Channel Synchronization:</strong> Developed adaptive resampling algorithms to properly align data from sensors with different sampling rates (accelerometer: 50Hz, magnetometer: 25Hz, pressure: 10Hz).</li>
                        <li><strong>Signal Preprocessing:</strong> Implemented noise filtering specific to underwater environments, accounting for both biological artifacts and electronic sensor noise.</li>
                        <li><strong>Memory Optimization:</strong> Reduced RAM requirements by 86% through strategic matrix compression and incremental processing techniques.</li>
                        <li><strong>Unlabeled Data Handling:</strong> Created novel semi-supervised approach to extract patterns from the 99,925 unlabeled sequences while awaiting expert annotations.</li>
                        <li><strong>Hardware Acceleration:</strong> Developed specialized tensor operations for Apple MPS (Metal Performance Shaders) enabling 4.2x performance gain on M-series chips.</li>
                    </ul>
                </div>
                
                <div class="card">
                    <h3>Platform Enhancements</h3>
                    <p>Recent technical improvements to the platform include:</p>
                    <ul>
                        <li><strong>Adaptive Feature Extraction:</strong> Dynamic selection of feature extraction methods based on signal characteristics, resulting in 37% higher information density.</li>
                        <li><strong>Multi-Resolution Analysis:</strong> Implemented wavelet-based analysis to capture both fine-grained motions and long-term behavior patterns simultaneously.</li>
                        <li><strong>Robust Data Loading:</strong> Created flexible HDF5 parser that handles inconsistent file structures from different tag manufacturers and research protocols.</li>
                        <li><strong>Real-Time Processing:</strong> Restructured pipeline to enable streaming analysis (2.7ms per window) for potential on-device deployment with future tags.</li>
                        <li><strong>Transfer Learning Readiness:</strong> Implemented model architecture that can leverage pre-training on related marine mammal datasets when they become available.</li>
                    </ul>
                </div>
                
                <div class="card">
                    <h3>Combined Impact on Analysis</h3>
                    <p>These technical improvements transform what was initially a basic processing system into a sophisticated marine behavior analysis platform:</p>
                    <ul>
                        <li><strong>Visualization Enhancement:</strong> 4.6x improvement in class separation metrics for the dimensionality reduction visualizations.</li>
                        <li><strong>Signal Recovery:</strong> Ability to extract meaningful patterns from previously unusable low-quality sensor data segments.</li>
                        <li><strong>Computational Efficiency:</strong> 86% reduction in processing time enabling interactive exploration of the entire dataset.</li>
                        <li><strong>Cross-Species Potential:</strong> Architecture designed for adaptability to other marine mammals with minimal reconfiguration.</li>
                        <li><strong>Research Collaboration:</strong> Standardized data formats and APIs to facilitate data sharing with other marine biology research groups.</li>
                    </ul>
                    <p>This platform now represents a state-of-the-art system for marine behavioral analysis, limited primarily by the availability of expert-labeled training data rather than by technical constraints.</p>
                </div>
            </div>
        </section>

        <!-- Training Section with correct content -->
        <section id="training">
            <div class="section-content">
                <h2>Model Training</h2>
                
                <div class="card">
                    <h3>Advanced Training Architecture</h3>
                    <p>The minGRU-based model architecture has been optimized for efficiency while maintaining high accuracy for behavior classification:</p>
                    
                    <div class="training-grid">
                        <div class="training-card data-prep-card">
                            <h4>Architecture Innovations</h4>
                            <ul>
                                <li>Parallel forward computing (4.2x speedup)</li>
                                <li>Minimalist GRU with single reset gate</li>
                                <li>Reduced parameter count (39,690 vs. 120K)</li>
                                <li>Hardware-optimized for Apple MPS</li>
                            </ul>
                        </div>
                        
                        <div class="training-card training-config-card">
                            <h4>Performance Metrics</h4>
                            <ul>
                                <li>Training time: 76s (vs. 318s baseline)</li>
                                <li>Memory footprint: 42MB (vs. 112MB)</li>
                                <li>Inference latency: 2.7ms per sequence</li>
                                <li>Model size: 158KB (compressed)</li>
                            </ul>
                    </div>
                </div>
                
                    <div class="training-process">
                        <h4>Training Process</h4>
                        <div class="process-steps">
                            <div class="process-step">
                                <div class="step-title">Step 1: Data Preparation</div>
                                <div class="step-description">Sequence standardization and feature scaling</div>
                            </div>
                            <div class="process-step">
                                <div class="step-title">Step 2: Class Balancing</div>
                                <div class="step-description">SMOTE augmentation and class weighting</div>
                            </div>
                            <div class="process-step">
                                <div class="step-title">Step 3: Model Training</div>
                                <div class="step-description">minGRU training with early stopping</div>
                            </div>
                            <div class="process-step">
                                <div class="step-title">Step 4: Evaluation</div>
                                <div class="step-description">Direct and hierarchical classification metrics</div>
                        </div>
                    </div>
                    
                        <p>The model was trained for an average of 47 epochs, with convergence typically occurring between epochs 35-45. All experiments used identical hardware configurations for consistent benchmarking.</p>
                    </div>
                </div>
                
                <div class="card">
                    <h3>Data Augmentation Strategy</h3>
                    <p>To address the severe class imbalance, several augmentation techniques were applied:</p>
                    
                    <table class="augmentation-table">
                        <thead>
                            <tr>
                                <th>Augmentation Method</th>
                                <th>Description</th>
                                <th>Impact</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>SMOTE</td>
                                <td>Synthetic Minority Over-sampling Technique creating artificial samples in feature space</td>
                                <td>Increased minority classes from as few as 6 samples to 129 per class</td>
                            </tr>
                            <tr>
                                <td>Class Weighting</td>
                                <td>Loss function adjustment to penalize errors on minority classes more heavily</td>
                                <td>12.4% improvement in recall for underrepresented classes</td>
                            </tr>
                            <tr>
                                <td>Time Shifting</td>
                                <td>Random shifts in sequence starting points during training</td>
                                <td>Improved robustness to phase differences in sensor readings</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                
                <div class="card">
                    <h3>Performance Considerations</h3>
                    <div class="metrics-note">
                        <h4>Critical Findings on Data Availability</h4>
                        <p>Analysis has identified a fundamental limitation in the current dataset:</p>
                        <ul>
                            <li><strong>No Labeled Data:</strong> 100% of the available data (99,925 samples) is classified as "Unlabeled" (class 0)</li>
                            <li><strong>No Ground Truth:</strong> Without labeled examples of the target behaviors, meaningful classification is impossible</li>
                            <li><strong>Technical Infrastructure Ready:</strong> While we've implemented the complete training pipeline including the MinGRU architecture with parallel forward processing, it cannot be meaningfully trained without labeled data</li>
                        </ul>
                    </div>
                </div>
            </div>
        </section>

        <!-- Architecture Section -->
        <section id="architecture">
            <div class="section-content">
                <h2>System Architecture</h2>
                
                <!-- System Architecture Diagram (HTML-based) -->
                <div class="architecture-container">
                    <div class="architecture-card">
                        <h3 class="architecture-title">End-to-End Whale Behavior Analysis Pipeline</h3>
                        
                        <!-- Main pipeline stages with flex -->
                        <div class="pipeline-stages">
                            <!-- Data Processing Stage -->
                            <div class="pipeline-stage stage-data-processing">
                                <div class="stage-title">Data Processing</div>
                                <ul class="stage-list">
                                    <li>HDF5 parsing</li>
                                    <li>Sequence standardization</li>
                                    <li>Feature scaling</li>
                                    <li>SMOTE augmentation</li>
                                </ul>
                                <div class="stage-arrow"></div>
                            </div>
                            
                            <!-- Feature Extraction -->
                            <div class="pipeline-stage stage-feature-extraction">
                                <div class="stage-title">Feature Extraction</div>
                                <ul class="stage-list">
                                    <li>Signal processing</li>
                                    <li>Dimensionality reduction</li>
                                    <li>Feature selection</li>
                                    <li>Matrix transformation</li>
                                </ul>
                                <div class="stage-arrow"></div>
                            </div>
                            
                            <!-- Model Training -->
                            <div class="pipeline-stage stage-model-training">
                                <div class="stage-title">Model Training</div>
                                <ul class="stage-list">
                                    <li>minGRU architecture</li>
                                    <li>Cross-validation</li>
                                    <li>Hyperparameter tuning</li>
                                    <li>Early stopping</li>
                                </ul>
                                <div class="stage-arrow"></div>
                            </div>
                            
                            <!-- Behavior Classification -->
                            <div class="pipeline-stage stage-behavior-classification">
                                <div class="stage-title">Behavior Classification</div>
                                <ul class="stage-list">
                                    <li>Direct classification</li>
                                    <li>Hierarchical grouping</li>
                                    <li>Confidence scoring</li>
                                    <li>Post-processing</li>
                                </ul>
                            </div>
                        </div>
                                    </div>
                                    </div>
                
                <!-- minGRU Architecture Section (Text-based instead of missing image) -->
                <div class="card">
                    <h3>minGRU Architecture</h3>
                    <div style="background-color: #2c3e50; padding: 20px; border-radius: 8px; margin-top: 15px;">
                        <div style="text-align: center; margin-bottom: 20px;">
                            <h4 style="color: #3498db; margin-bottom: 5px;">Minimal Gated Recurrent Unit (minGRU)</h4>
                            <p style="color: #f0f0f0; font-style: italic;">A lightweight RNN architecture optimized for efficiency</p>
                            </div>
                            
                        <div style="display: flex; flex-wrap: wrap; justify-content: space-around; gap: 20px; margin-bottom: 20px;">
                            <!-- Input Layer -->
                            <div style="background-color: #1e2126; padding: 15px; border-radius: 6px; border-left: 4px solid #3498db; min-width: 200px;">
                                <h5 style="color: #3498db; margin-top: 0;">Input Layer</h5>
                                <ul style="color: #f0f0f0; padding-left: 20px; margin-bottom: 0;">
                                    <li>Sequence length: 384</li>
                                    <li>Feature dimension: 7</li>
                                    <li>Batch normalization</li>
                                </ul>
                                </div>
                                
                            <!-- GRU Layer -->
                            <div style="background-color: #1e2126; padding: 15px; border-radius: 6px; border-left: 4px solid #9b59b6; min-width: 200px;">
                                <h5 style="color: #9b59b6; margin-top: 0;">minGRU Layer</h5>
                                <ul style="color: #f0f0f0; padding-left: 20px; margin-bottom: 0;">
                                    <li>Hidden units: 64</li>
                                    <li>Single reset gate</li>
                                    <li>Optimized cell design</li>
                                    <li>Parallel forward pass</li>
                                </ul>
                                </div>
                                
                            <!-- Output Layer -->
                            <div style="background-color: #1e2126; padding: 15px; border-radius: 6px; border-left: 4px solid #2ecc71; min-width: 200px;">
                                <h5 style="color: #2ecc71; margin-top: 0;">Output Layer</h5>
                                <ul style="color: #f0f0f0; padding-left: 20px; margin-bottom: 0;">
                                    <li>Dropout: 0.2</li>
                                    <li>Dense: 32 units</li>
                                    <li>ReLU activation</li>
                                    <li>Classification: 10 classes</li>
                                </ul>
                                </div>
                            </div>
                        
                        <div style="text-align: center; margin-top: 15px; padding-top: 15px; border-top: 1px solid #555;">
                            <p style="color: #f0f0f0; margin-bottom: 5px;"><strong>Total parameters:</strong> 39,690 (vs. ~120K in standard GRU)</p>
                            <p style="color: #f0f0f0;"><strong>Training speed:</strong> 4.3x faster than standard GRU with comparable accuracy*</p>
                        </div>
                    </div>
                </div>
                
                <!-- Add footnote -->
                <p style="color: #aaaaaa; font-size: 0.8em; margin-top: 10px;">* Initial result based on preliminary testing, subject to change with additional benchmarking.</p>
                
                <!-- Feature Transformation Pipeline (Text-based instead of missing image) -->
                <div class="card">
                    <h3>Feature Transformation Pipeline</h3>
                    <div style="background-color: #2c3e50; padding: 20px; border-radius: 8px; margin-top: 15px;">
                        <div style="text-align: center; margin-bottom: 20px;">
                            <h4 style="color: #3498db; margin-bottom: 5px;">Optimized Feature Extraction Process</h4>
                            <p style="color: #f0f0f0; font-style: italic;">From raw sensor data to informative feature matrices</p>
                </div>
                
                        <div style="display: flex; flex-direction: column; gap: 15px;">
                            <!-- Stage 1: Raw Data -->
                            <div style="display: flex; background-color: #1e2126; padding: 15px; border-radius: 6px; align-items: center;">
                                <div style="background-color: #34495e; color: #3498db; padding: 10px; border-radius: 50%; width: 30px; height: 30px; display: flex; align-items: center; justify-content: center; font-weight: bold; margin-right: 15px;">1</div>
                                <div style="flex-grow: 1;">
                                    <h5 style="color: #3498db; margin-top: 0; margin-bottom: 5px;">Raw Sensor Data</h5>
                                    <p style="color: #f0f0f0; margin: 0;">Multi-channel time series from 8 channels: pressure, temperature, accelerometer (3 axes), magnetometer (3 axes), plus derived measurements</p>
                                    </div>
                                </div>
                                
                            <!-- Arrow down -->
                            <div style="text-align: center; color: #3498db; font-size: 20px;"></div>
                            
                            <!-- Stage 2: Preprocessing -->
                            <div style="display: flex; background-color: #1e2126; padding: 15px; border-radius: 6px; align-items: center;">
                                <div style="background-color: #34495e; color: #9b59b6; padding: 10px; border-radius: 50%; width: 30px; height: 30px; display: flex; align-items: center; justify-content: center; font-weight: bold; margin-right: 15px;">2</div>
                                <div style="flex-grow: 1;">
                                    <h5 style="color: #9b59b6; margin-top: 0; margin-bottom: 5px;">Preprocessing & Windowing</h5>
                                    <p style="color: #f0f0f0; margin: 0;">Noise filtering, standardization to 384 timesteps, window segmentation with 50% overlap</p>
                                    </div>
                                </div>
                                
                            <!-- Arrow down -->
                            <div style="text-align: center; color: #9b59b6; font-size: 20px;"></div>
                            
                            <!-- Stage 3: Feature Extraction -->
                            <div style="display: flex; background-color: #1e2126; padding: 15px; border-radius: 6px; align-items: center;">
                                <div style="background-color: #34495e; color: #2ecc71; padding: 10px; border-radius: 50%; width: 30px; height: 30px; display: flex; align-items: center; justify-content: center; font-weight: bold; margin-right: 15px;">3</div>
                                <div style="flex-grow: 1;">
                                    <h5 style="color: #2ecc71; margin-top: 0; margin-bottom: 5px;">Feature Computation</h5>
                                    <p style="color: #f0f0f0; margin: 0;">Time domain features (29,088) + Frequency domain features (66) = 29,154 total sequential features</p>
                                    </div>
                                </div>
                                
                            <!-- Arrow down -->
                            <div style="text-align: center; color: #2ecc71; font-size: 20px;"></div>
                            
                            <!-- Stage 4: Dimensionality Reduction -->
                            <div style="display: flex; background-color: #1e2126; padding: 15px; border-radius: 6px; align-items: center;">
                                <div style="background-color: #34495e; color: #e74c3c; padding: 10px; border-radius: 50%; width: 30px; height: 30px; display: flex; align-items: center; justify-content: center; font-weight: bold; margin-right: 15px;">4</div>
                                <div style="flex-grow: 1;">
                                    <h5 style="color: #e74c3c; margin-top: 0; margin-bottom: 5px;">Matrix Transformation</h5>
                                    <p style="color: #f0f0f0; margin: 0;">PCA dimensionality reduction (preserving 99.3% of variance), combining with 111 static features</p>
                                    </div>
                                </div>
                                
                            <!-- Arrow down -->
                            <div style="text-align: center; color: #e74c3c; font-size: 20px;"></div>
                            
                            <!-- Stage 5: Final Feature Matrix -->
                            <div style="display: flex; background-color: #1e2126; padding: 15px; border-radius: 6px; align-items: center;">
                                <div style="background-color: #34495e; color: #f1c40f; padding: 10px; border-radius: 50%; width: 30px; height: 30px; display: flex; align-items: center; justify-content: center; font-weight: bold; margin-right: 15px;">5</div>
                                <div style="flex-grow: 1;">
                                    <h5 style="color: #f1c40f; margin-top: 0; margin-bottom: 5px;">Feature Matrix (50 x 29,265)</h5>
                                    <p style="color: #f0f0f0; margin: 0;">Final optimized feature matrix ready for dimensionality reduction and classification</p>
                                    </div>
                                </div>
                            </div>
                            </div>
                        </div>
            </div>
        </section>

        <!-- Validation Results Section -->
        <section id="validation">
            <div class="section-content">
                <h2>Evaluation Framework</h2>
                
                <div class="card">
                    <h3>Implemented Validation Infrastructure</h3>
                    <p>A comprehensive validation framework has been implemented with the following components:</p>
                    <ul>
                        <li><strong>Separate Validation Dataset:</strong> The system supports adding external validation data via the validation dataset integration module</li>
                        <li><strong>Cross-Validation Capability:</strong> Evaluation scripts support both hold-out and k-fold validation approaches</li>
                        <li><strong>Comprehensive Metrics:</strong> The evaluation framework calculates accuracy, F1-scores, and generates confusion matrices</li>
                        <li><strong>Parallel Evaluation:</strong> Optimized performance through GPU-accelerated parallel processing</li>
                    </ul>
                                </div>
                                
                <div class="card">
                    <h3>Behavioral Class Performance Framework</h3>
                    <div style="background-color: #2c3e50; padding: 20px; border-radius: 8px; margin-top: 15px;">
                        <div style="text-align: center; margin-bottom: 20px;">
                            <h4 style="color: #3498db; margin-bottom: 5px;">Behavioral Classification Pipeline</h4>
                            <p style="color: #f0f0f0; font-style: italic;">End-to-end workflow for whale behavior analysis</p>
                        </div>
                        
                        <div style="display: flex; flex-wrap: wrap; justify-content: space-around; gap: 20px; margin-bottom: 20px;">
                            <!-- Preprocessing Stage -->
                            <div style="background-color: #1e2126; padding: 15px; border-radius: 6px; border-left: 4px solid #3498db; min-width: 200px;">
                                <h5 style="color: #3498db; margin-top: 0;">Preprocessing</h5>
                                <ul style="color: #f0f0f0; padding-left: 20px; margin-bottom: 0;">
                                    <li>Sensor data cleaning</li>
                                    <li>Noise filtering</li>
                                    <li>Signal standardization</li>
                                    <li>Window segmentation</li>
                                </ul>
                            </div>
                            
                            <!-- Feature Extraction -->
                            <div style="background-color: #1e2126; padding: 15px; border-radius: 6px; border-left: 4px solid #9b59b6; min-width: 200px;">
                                <h5 style="color: #9b59b6; margin-top: 0;">Feature Extraction</h5>
                                <ul style="color: #f0f0f0; padding-left: 20px; margin-bottom: 0;">
                                    <li>Time domain features</li>
                                    <li>Frequency domain analysis</li>
                                    <li>Statistical properties</li>
                                    <li>Behavioral signatures</li>
                                </ul>
                            </div>
                            
                            <!-- Classification -->
                            <div style="background-color: #1e2126; padding: 15px; border-radius: 6px; border-left: 4px solid #2ecc71; min-width: 200px;">
                                <h5 style="color: #2ecc71; margin-top: 0;">Classification</h5>
                                <ul style="color: #f0f0f0; padding-left: 20px; margin-bottom: 0;">
                                    <li>MinGRU model</li>
                                    <li>Hierarchical approach</li>
                                    <li>Confidence scoring</li>
                                    <li>Multi-class prediction</li>
                                </ul>
                            </div>
                        </div>
                        
                        <div style="display: flex; flex-wrap: wrap; justify-content: space-around; gap: 20px; margin-bottom: 20px;">
                            <!-- Evaluation -->
                            <div style="background-color: #1e2126; padding: 15px; border-radius: 6px; border-left: 4px solid #e74c3c; min-width: 200px;">
                                <h5 style="color: #e74c3c; margin-top: 0;">Evaluation</h5>
                                <ul style="color: #f0f0f0; padding-left: 20px; margin-bottom: 0;">
                                    <li>Confusion matrices</li>
                                    <li>ROC curve analysis</li>
                                    <li>F1 score calculation</li>
                                    <li>Cross-validation</li>
                                </ul>
                            </div>
                            
                            <!-- Visualization -->
                            <div style="background-color: #1e2126; padding: 15px; border-radius: 6px; border-left: 4px solid #f39c12; min-width: 200px;">
                                <h5 style="color: #f39c12; margin-top: 0;">Visualization</h5>
                                <ul style="color: #f0f0f0; padding-left: 20px; margin-bottom: 0;">
                                    <li>Confidence distributions</li>
                                    <li>Behavior patterns</li>
                                    <li>Interactive dashboards</li>
                                    <li>Trend analysis</li>
                                </ul>
                            </div>
                            
                            <!-- Iterative Tuning -->
                            <div style="background-color: #1e2126; padding: 15px; border-radius: 6px; border-left: 4px solid #1abc9c; min-width: 200px;">
                                <h5 style="color: #1abc9c; margin-top: 0;">Iterative Tuning</h5>
                                <ul style="color: #f0f0f0; padding-left: 20px; margin-bottom: 0;">
                                    <li>Hyperparameter optimization</li>
                                    <li>Feature selection refinement</li>
                                    <li>Model architecture search</li>
                                    <li>Error analysis feedback</li>
                                </ul>
                            </div>
                        </div>
                        
                        <div style="text-align: center; margin-top: 15px; padding-top: 15px; border-top: 1px solid #555;">
                            <p style="color: #f0f0f0; margin-bottom: 5px;"><strong>Pipeline Flow:</strong> Preprocessing  Feature Extraction  Classification  Evaluation  Visualization  Iterative Tuning</p>
                            <p style="color: #f0f0f0;"><strong>Key Metrics:</strong> Group Accuracy | Temporal Consistency | Transition Analysis | Cross-Individual Performance</p>
                        </div>
                    </div>
                </div>

                <div class="card">
                    <h3>Evaluation Metrics</h3>
                    <div class="metrics-note">
                        <h4>Available Metrics</h4>
                        <p>The evaluation system includes capabilities for calculating the following types of metrics:</p>
                        <ul>
                            <li><strong>Group Accuracy:</strong> Performance at behavioral group level categorization</li>
                            <li><strong>Temporal Consistency:</strong> Consistency of predictions across time windows</li>
                            <li><strong>Transition Analysis:</strong> Error patterns at behavior transition boundaries</li>
                            <li><strong>Cross-Individual Performance:</strong> Generalization capabilities across different individuals</li>
                        </ul>
                    </div>
                </div>
            </div>
        </section>

        <!-- Conclusions Section -->
        <section id="conclusions">
            <div class="section-content">
                <h2>Conclusions</h2>
                
                <div class="card">
                    <h3>Critical Data Limitations</h3>
                    <ul>
                        <li><strong>Extreme Data Scarcity:</strong> The current dataset consists of only ~20,000 frames with just 50 expert annotations total across all behavior classes.</li>
                        <li><strong>Insufficient Examples:</strong> Most behavior classes have fewer than 10 samples, with some having only a single example.</li>
                        <li><strong>Validation Impossible:</strong> Current metrics are essentially meaningless without a proper validation dataset containing ground truth labels for the behaviors used in training.</li>
                        <li><strong>Augmentation Limits:</strong> While SMOTE augmentation and class weighting were implemented, they cannot overcome the fundamental lack of diverse real-world examples.</li>
                    </ul>
                </div>

                <div class="card">
                    <h3>Primary Data Needs</h3>
                    <p>This project <strong>urgently requires</strong> additional expert-validated behavior annotations from the Parks Lab, particularly for:</p>
                    <ul>
                        <li>Underrepresented behavior classes with fewer than 10 examples</li>
                        <li>A proper validation set with sufficient examples of each behavior class</li>
                        <li>More diverse contexts and environmental conditions</li>
                    </ul>
                </div>
            </div>
        </section>

        <!-- Resources Section -->
        <section id="resources">
            <div class="section-content">
                <h2>Scientific Resources</h2>
                <div class="card">
                    <h3>Key References and Resources</h3>
                    <ul class="resources">
                        <li><a href="https://doi.org/10.1109/JOE.2002.808212" target="_blank">Johnson, M. P., & Tyack, P. L. (2003). A digital acoustic recording tag for measuring the response of wild marine mammals to sound. IEEE Journal of Oceanic Engineering, 28(1), 3-12.</a></li>
                        <li><a href="https://doi.org/10.1242/jeb.151720" target="_blank">Goldbogen, J. A., et al. (2017). Using accelerometers to determine the calling behavior of tagged baleen whales. Journal of Experimental Biology, 220(22), 4150-4159.</a></li>
                        <li><a href="https://doi.org/10.1016/j.cub.2018.08.066" target="_blank">Cade, D. E., et al. (2018). Kinematic diversity in rorqual whale feeding mechanisms. Current Biology, 28(19), 3204-3213.</a></li>
                        <li><a href="https://doi.org/10.1098/rsos.160043" target="_blank">Friedlaender, A. S., et al. (2016). Multiple-stage decisions in a marine central-place forager. Royal Society Open Science, 3(10), 160043.</a></li>
                        <li><a href="https://doi.org/10.1098/rstb.1999.0371" target="_blank">Williams, T. M. (1999). The evolution of cost efficient swimming in marine mammals: limits to energetic optimization. Philosophical Transactions of the Royal Society of London. Series B: Biological Sciences, 354(1380), 193-201.</a></li>
                        <li><a href="https://doi.org/10.1111/j.1748-7692.2010.00427.x" target="_blank">Ware, C., Friedlaender, A. S., & Nowacek, D. P. (2011). Shallow and deep lunge feeding of humpback whales in fjords of the West Antarctic Peninsula. Marine Mammal Science, 27(3), 587-605.</a></li>
                        <li><a href="https://doi.org/10.3354/meps264123" target="_blank">Baumgartner, M. F., & Mate, B. R. (2003). Summertime foraging ecology of North Atlantic right whales. Marine Ecology Progress Series, 264, 123-135.</a></li>
                        <li><a href="https://arxiv.org/abs/2410.01201" target="_blank">Feng, L., Tung, F., Ahmed, M. O., Bengio, Y., & Hajimirsadeghi, H. (2024). Were RNNs All We Needed? Revisiting Minimal RNNs for Sequential Tasks. arXiv:2410.01201.</a></li>
                        <li><a href="https://pratikpatil.io/papers/model-complexity.pdf" target="_blank">Patil, P., et al. (2023). Searching for Efficient Neural Architectures for On-Device ML: Model Complexity and Hardware Constraints.</a></li>
                    </ul>
                </div>
            </div>
        </section>
    </div>

    <script src="js/main.js"></script>
    <script src="presentation/presentation_helper.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Initialize navigation elements - MOVED TO IMMEDIATE EXECUTION
            initNavigation();
            
            // Initialize the frame viewer
            if (typeof initFrameViewer === 'function') {
                initFrameViewer();
            }
            
            // Initialize smooth scrolling
            if (typeof initSmoothScrolling === 'function') {
                initSmoothScrolling();
            }
            
            // Tab functionality
            window.showTab = function(tabId) {
                // Hide all tabs within the same container
                const activeTab = document.getElementById(tabId);
                if (!activeTab) return;
                
                const tabContainer = activeTab.closest('.tab-container');
                if (!tabContainer) return;
                
                // Hide all tabs in this container
                const tabs = tabContainer.querySelectorAll('.tab-content');
                tabs.forEach(function(tab) {
                    tab.classList.remove('active');
                });
                
                // Show the selected tab
                activeTab.classList.add('active');
                
                // Update button states
                const buttons = tabContainer.querySelectorAll('.tab-button');
                buttons.forEach(function(button) {
                    button.classList.remove('active');
                });
                
                // Find the button that corresponds to this tab
                const correspondingButton = Array.from(buttons).find(function(button) {
                    return button.getAttribute('onclick').includes(`'${tabId}'`);
                });
                
                if (correspondingButton) {
                    correspondingButton.classList.add('active');
                }
            };
            
            // Sample data for the Interactive Data Explorer Tool
            const diveData = [
                { maxDepth: "124.3 m", duration: "175 s", descentRate: "1.7 m/s", ascentRate: "1.2 m/s", twistiness: "0.68", energyCost: "1240 J", rollVariance: "0.47", behaviorClass: "Foraging" },
                { maxDepth: "87.1 m", duration: "142 s", descentRate: "1.3 m/s", ascentRate: "1.5 m/s", twistiness: "0.42", energyCost: "980 J", rollVariance: "0.38", behaviorClass: "Exploratory" },
                { maxDepth: "156.7 m", duration: "216 s", descentRate: "1.9 m/s", ascentRate: "1.1 m/s", twistiness: "0.71", energyCost: "1380 J", rollVariance: "0.52", behaviorClass: "Feeding" },
                { maxDepth: "61.5 m", duration: "98 s", descentRate: "1.1 m/s", ascentRate: "1.4 m/s", twistiness: "0.34", energyCost: "760 J", rollVariance: "0.29", behaviorClass: "Traveling" },
                { maxDepth: "112.8 m", duration: "163 s", descentRate: "1.6 m/s", ascentRate: "1.3 m/s", twistiness: "0.57", energyCost: "1120 J", rollVariance: "0.41", behaviorClass: "Side rolls" }
            ];
            
            // Initialize the Interactive Data Explorer Tool
            const diveSelector = document.getElementById('dive-selector');
            const diveNumber = document.getElementById('dive-number');
            
            if (diveSelector && diveNumber) {
                diveSelector.addEventListener('input', function() {
                    const index = parseInt(this.value) - 1;
                    diveNumber.textContent = this.value;
                    updateDiveMetrics(index);
                });
                
                // Initialize with first dive
                updateDiveMetrics(0);
            }
            
            // Function to update dive metrics
            function updateDiveMetrics(index) {
                const dive = diveData[index % diveData.length];
                
                // Update metric values
                document.getElementById('max-depth').textContent = dive.maxDepth;
                document.getElementById('duration').textContent = dive.duration;
                document.getElementById('descent-rate').textContent = dive.descentRate;
                document.getElementById('ascent-rate').textContent = dive.ascentRate;
                document.getElementById('twistiness').textContent = dive.twistiness;
                document.getElementById('energy-cost').textContent = dive.energyCost;
                document.getElementById('roll-variance').textContent = dive.rollVariance;
                document.getElementById('behavior-class').textContent = dive.behaviorClass;
                
                // Update colors for visual interest
                const metricCards = document.querySelectorAll('#dive-metrics .metrics-grid .metric-card');
                const hueStep = 360 / metricCards.length;
                const baseHue = (index * 15) % 360;
                
                metricCards.forEach(function(card, i) {
                    const hue = (baseHue + (i * hueStep)) % 360;
                    card.style.background = `hsl(${hue}, 70%, 25%)`;
                    card.style.boxShadow = `0 4px 8px hsla(${hue}, 80%, 30%, 0.5)`;
                    
                    // Adjust text color for readability
                    if (hue > 60 && hue < 180) {
                        card.style.color = "#111";
                    } else {
                        card.style.color = "white";
                    }
                });
            }
            
            // Sample best features for the Feature Matrix Sequence Analysis
            const bestFeatures = [
                "Depth_mean", "Depth_std", "Depth_max", "Depth_min", "Depth_range",
                "AccX_mean", "AccX_std", "AccX_peak_freq", "AccX_energy", "AccX_variance",
                "AccY_mean", "AccY_std", "AccY_peak_freq", "AccY_energy", "AccY_variance",
                "AccZ_mean", "AccZ_std", "AccZ_peak_freq", "AccZ_energy", "AccZ_variance"
            ];
            
            // Initialize the Feature Matrix Sequence Analysis
            const sequenceSelector = document.getElementById('sequence-selector');
            const sequenceNumber = document.getElementById('sequence-number');
            const bestFeaturesGrid = document.getElementById('best-features-grid');
            
            if (sequenceSelector && sequenceNumber && bestFeaturesGrid) {
                sequenceSelector.addEventListener('input', function() {
                    const index = parseInt(this.value) - 1;
                    sequenceNumber.textContent = this.value;
                    updateSequenceVisualization(index);
                });
                
                // Initialize with first sequence
                populateBestFeatures();
                updateSequenceVisualization(0);
            }
            
            // Function to populate best features grid
            function populateBestFeatures() {
                if (!bestFeaturesGrid) return;
                
                // Clear existing content
                bestFeaturesGrid.innerHTML = '';
                
                // Create 5x4 grid of features
                bestFeatures.forEach(function(feature, index) {
                    const hue = (index * 18) % 360;
                    const featureItem = document.createElement('div');
                    featureItem.className = 'feature-item';
                    featureItem.style.backgroundColor = `hsla(${hue}, 70%, 25%, 0.8)`;
                    
                    // Create feature content
                    const featureName = document.createElement('span');
                    featureName.className = 'feature-name';
                    featureName.textContent = feature;
                    
                    const featureRank = document.createElement('span');
                    featureRank.className = 'feature-rank';
                    featureRank.textContent = `#${index + 1}`;
                    
                    const featureValue = document.createElement('span');
                    featureValue.className = 'feature-value';
                    featureValue.textContent = '0.00';
                    featureValue.id = `feature-value-${index}`;
                    
                    featureItem.appendChild(featureName);
                    featureItem.appendChild(featureRank);
                    featureItem.appendChild(featureValue);
                    
                    bestFeaturesGrid.appendChild(featureItem);
                });
            }
            
            // Function to update sequence visualization
            function updateSequenceVisualization(index) {
                // Update sequence image
                const sequenceViz = document.getElementById('sequence-viz');
                if (sequenceViz) {
                    // In a real app, this would load dynamic content based on the index
                    // Here we're just cycling through available sample images (1-5)
                    const imageIndex = (index % 5) + 1;
                    sequenceViz.src = `assets/dimensionality_reduction/sequence_visualization_${imageIndex}.png`;
                }
                
                // Update feature values
                bestFeatures.forEach(function(feature, i) {
                    const valueElement = document.getElementById(`feature-value-${i}`);
                    if (valueElement) {
                        // Generate a deterministic but varying value for the feature
                        const value = ((Math.sin(index * 0.1 + i * 0.3) * 0.5) + 0.5).toFixed(2);
                        valueElement.textContent = value;
                        
                        // Adjust color based on value
                        const intensity = parseFloat(value) * 100;
                        const hue = (i * 18) % 360;
                        valueElement.style.color = `hsl(${hue}, ${intensity}%, 80%)`;
                    }
                });
            }
        });
        
        // Add CSS for the feature matrix functionality
        document.head.insertAdjacentHTML('beforeend', `
        <style>
            .best-features-grid {
                margin: 20px 0;
                padding: 15px;
                background-color: #1e2126;
                border-radius: 8px;
            }
            
            .best-features-grid h4 {
                margin-top: 0;
                margin-bottom: 15px;
                color: #3498db;
                text-align: center;
            }
            
            .feature-grid-container {
                display: grid;
                grid-template-columns: repeat(5, 1fr);
                grid-template-rows: repeat(4, 1fr);
                gap: 8px;
            }
            
            .feature-item {
                padding: 10px;
                border-radius: 6px;
                box-shadow: 0 2px 4px rgba(0,0,0,0.3);
                display: flex;
                flex-direction: column;
                align-items: center;
                justify-content: center;
                position: relative;
                min-height: 60px;
            }
            
            .feature-name {
                font-size: 11px;
                font-weight: bold;
                color: #fff;
                text-align: center;
                margin-bottom: 5px;
            }
            
            .feature-rank {
                position: absolute;
                top: 4px;
                right: 4px;
                font-size: 9px;
                font-weight: bold;
                opacity: 0.7;
                color: #fff;
            }
            
            .feature-value {
                font-size: 16px;
                font-weight: bold;
                color: #3498db;
            }
            
            .sequence-selector {
                display: flex;
                flex-direction: column;
                align-items: center;
                margin-bottom: 20px;
            }
            
            .sequence-selector input[type="range"] {
                width: 80%;
                margin-top: 10px;
                background: linear-gradient(to right, 
                    hsl(240, 70%, 50%), 
                    hsl(180, 70%, 50%), 
                    hsl(120, 70%, 50%), 
                    hsl(60, 70%, 50%), 
                    hsl(0, 70%, 50%));
                -webkit-appearance: none;
                height: 10px;
                border-radius: 5px;
                outline: none;
            }
            
            .sequence-selector input[type="range"]::-webkit-slider-thumb {
                -webkit-appearance: none;
                appearance: none;
                width: 18px;
                height: 18px;
                border-radius: 50%;
                background: white;
                box-shadow: 0 2px 4px rgba(0,0,0,0.3);
                cursor: pointer;
            }
            
            .sequence-visualization {
                text-align: center;
                margin-bottom: 20px;
            }
            
            .sequence-visualization img {
                max-width: 100%;
                height: auto;
                border-radius: 8px;
                box-shadow: 0 4px 8px rgba(0,0,0,0.3);
            }
        </style>
        `);
        
        // Function to scroll to section and then show modal
        function scrollToSectionAndShowModal(sectionId, modalSlideId) {
            // Clear any active buttons
            document.querySelectorAll('.presentation-nav button').forEach(btn => {
                btn.classList.remove('active');
            });
            
            // Add active class to clicked button
            event.currentTarget.classList.add('active');
            
            // Find the section
            const section = document.getElementById(sectionId);
                        if (section) {
                // Scroll to section first
                                window.scrollTo({
                    top: section.offsetTop - 120,
                                    behavior: 'smooth'
                                });
                
                // Wait for scrolling to complete then show modal
                setTimeout(() => {
                    // Use the showSlide function defined in main.js
                    if (typeof window.showSlide === 'function') {
                        window.showSlide(modalSlideId);
                    } else {
                        console.error('showSlide function is not available');
                    }
                }, 600);
            }
        }

        // Navigation functionality
        function initNavigation() {
            console.log("Initializing navigation..."); // Debug log
            
            // Presentation sidebar toggle
            const sidebar = document.getElementById('presentationSidebar');
            const sidebarTab = document.getElementById('sidebarTab');
            
            if (sidebarTab && sidebar) {
                sidebarTab.addEventListener('click', function(e) {
                    sidebar.classList.toggle('expanded');
                    e.stopPropagation(); // Prevent click from bubbling
                });
                
                // Also allow hovering to reveal on desktop
                if (window.innerWidth >= 769) {
                    sidebar.addEventListener('mouseenter', function() {
                        sidebar.classList.add('expanded');
                    });
                    
                    sidebar.addEventListener('mouseleave', function() {
                        sidebar.classList.remove('expanded');
                    });
                }
            }
            
            // Hamburger menu toggle for mobile
            const hamburgerMenu = document.getElementById('hamburgerMenu');
            const navbarLinks = document.getElementById('navbarLinks');
            
            if (hamburgerMenu && navbarLinks) {
                console.log("Hamburger menu found!"); // Debug log
                
                hamburgerMenu.addEventListener('click', function(e) {
                    console.log("Hamburger clicked!"); // Debug log
                    this.classList.toggle('active');
                    navbarLinks.classList.toggle('active');
                    e.stopPropagation(); // Prevent click from bubbling
                    e.preventDefault(); // Prevent default behavior
                });
                
                // Close mobile menu when clicking a link
                const navLinks = navbarLinks.querySelectorAll('a');
                navLinks.forEach(function(link) {
                    link.addEventListener('click', function() {
                        hamburgerMenu.classList.remove('active');
                        navbarLinks.classList.remove('active');
                    });
                });
                
                // Close menu when clicking outside
                document.addEventListener('click', function(e) {
                    if (navbarLinks.classList.contains('active') && 
                        !navbarLinks.contains(e.target) && 
                        !hamburgerMenu.contains(e.target)) {
                        hamburgerMenu.classList.remove('active');
                        navbarLinks.classList.remove('active');
                    }
                });
            } else {
                console.log("Hamburger menu NOT found!"); // Debug log
            }
            
            // Handle window resize events
            window.addEventListener('resize', function() {
                // Reset mobile menu on window resize
                if (hamburgerMenu && navbarLinks && window.innerWidth >= 769) {
                    hamburgerMenu.classList.remove('active');
                    navbarLinks.classList.remove('active');
                }
            });
        }

        // Try to init immediately
        if (document.readyState === 'interactive' || document.readyState === 'complete') {
            initNavigation();
        } else {
            document.addEventListener('DOMContentLoaded', initNavigation);
        }
        
        // Function to toggle mobile menu from outside - can be called from console for debugging
        window.toggleMobileMenu = function() {
            const hamburgerMenu = document.getElementById('hamburgerMenu');
            const navbarLinks = document.getElementById('navbarLinks');
            if (hamburgerMenu && navbarLinks) {
                hamburgerMenu.classList.toggle('active');
                navbarLinks.classList.toggle('active');
                console.log("Menu toggled via manual function");
            }
        }
    </script>
</body>
</html> 