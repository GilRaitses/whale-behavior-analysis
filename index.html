<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Whale Behavior Analysis</title>
    <link rel="stylesheet" href="css/styles.css">
    <style>
        .visualization-container {
            display: flex;
            flex-direction: column;
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .visualization-row {
            display: flex;
            gap: 20px;
            flex-wrap: wrap;
            justify-content: center;
        }
        
        .visualization-card {
            flex: 1;
            min-width: 300px;
            max-width: 600px;
            border: 1px solid #ddd;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        
        .visualization-card img {
            width: 100%;
            height: auto;
        }
        
        .visualization-card h3 {
            padding: 10px 15px;
            margin: 0;
            background: #f5f5f5;
            border-bottom: 1px solid #ddd;
        }
        
        .visualization-card .content {
            padding: 15px;
        }
        
        .metrics-dashboard {
            margin-top: 30px;
            padding: 20px;
            border: 1px solid #ddd;
            border-radius: 8px;
            background: #f9f9f9;
        }
        
        .dive-selector {
            margin-bottom: 20px;
        }
        
        .dive-selector input {
            width: 100%;
        }
        
        .metrics-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 15px;
        }
        
        .metric-card {
            background: white;
            border: 1px solid #ddd;
            border-radius: 5px;
            padding: 15px;
            text-align: center;
        }
        
        .metric-card h4 {
            margin-top: 0;
            color: #666;
        }
        
        .metric-value {
            font-size: 24px;
            font-weight: bold;
            color: #3498db;
        }
        
        .tab-container {
            border: 1px solid #ddd;
            border-radius: 8px;
            overflow: hidden;
        }
        
        .tab-buttons {
            display: flex;
            background: #f5f5f5;
        }
        
        .tab-button {
            padding: 10px 20px;
            border: none;
            background: none;
            cursor: pointer;
            flex: 1;
            font-weight: bold;
        }
        
        .tab-button.active {
            background: #3498db;
            color: white;
        }
        
        .tab-content {
            display: none;
            padding: 20px;
        }
        
        .tab-content.active {
            display: block;
        }
    </style>
</head>
<body>
    <nav class="navbar">
        <a href="#overview">Overview</a>
        <a href="#frames">Dive Frames</a>
        <a href="#hierarchical">Hierarchical Visualization</a>
        <a href="#dashboard">Dashboard</a>
        <a href="#dimension">Dimensionality Reduction</a>
        <a href="#training">Training</a>
        <a href="#architecture">Architecture</a>
        <a href="#conclusions">Conclusions</a>
        <a href="#resources">Resources</a>
    </nav>

    <div id="content-container">
        <!-- Overview Section -->
        <section id="overview">
            <div class="section-content">
                <h1>Whale Behavior Analysis</h1>
                <h2>Overview of 128 Detected Dives</h2>
                <img src="assets/dive_overview.png" alt="Overview of 128 Detected Dives" class="overview-img">
                <div class="card">
                    <p>This visualization provides an overview of 128 detected dive patterns, showcasing depth variations and relative twistiness across multiple dives. The color intensity represents the relative twistiness of the whale's movement during each dive segment.</p>
                </div>
            </div>
        </section>

        <!-- Dive Frames Section -->
        <section id="frames">
            <div class="section-content">
                <h2>Dive Frame Analysis</h2>
                <div class="frames-container">
                    <div class="frame-viewer">
                        <img id="current-frame" src="assets/dive_frames/dive_001.png" alt="Dive Frame" class="frame-img">
                        <div class="frame-counter">Frame: <span id="frame-number">1</span> of 128</div>
                    </div>
                    <div class="frame-controls">
                        <button id="prev-frame">Previous</button>
                        <button id="next-frame">Next</button>
                        <button id="play-frames">Play</button>
                    </div>
                    <input type="range" min="1" max="128" value="1" class="frame-selector" id="frame-slider">
                </div>
                <div class="card">
                    <p>Scroll through individual dive frames to analyze specific patterns and behaviors. Each frame represents a unique dive profile with depth and orientation data, extracted from the whale tagging dataset.</p>
                </div>
            </div>
        </section>

        <!-- Hierarchical Visualization Section -->
        <section id="hierarchical">
            <div class="section-content">
                <h2>Hierarchical Dive Visualization</h2>
                <iframe src="visualizations/hierarchical_dive_visualization.html" title="Hierarchical Dive Visualization"></iframe>
                <div class="card">
                    <p>This hierarchical visualization allows you to explore the relationship between different dive patterns and identify clusters of similar behaviors. The visualization organizes dives based on their similarity in features like depth profile, duration, and movement patterns.</p>
                </div>
            </div>
        </section>

        <!-- Interactive Dashboard Section -->
        <section id="dashboard">
            <div class="section-content">
                <h2>Interactive Whale Behavior Dashboard</h2>
                
                <div class="tab-container">
                    <div class="tab-buttons">
                        <button class="tab-button active" onclick="openTab('metrics-tab')">Dive Metrics</button>
                        <button class="tab-button" onclick="openTab('energetics-tab')">Energetics</button>
                        <button class="tab-button" onclick="openTab('comparison-tab')">Behavior Comparison</button>
                    </div>
                    
                    <div id="metrics-tab" class="tab-content active">
                        <div class="dive-selector">
                            <label for="dive-slider">Select Dive: <span id="selected-dive-number">1</span></label>
                            <input type="range" id="dive-slider" min="1" max="128" value="1">
                        </div>
                        
                        <div class="metrics-grid">
                            <div class="metric-card">
                                <h4>Maximum Depth</h4>
                                <div class="metric-value" id="max-depth">124.3 m</div>
                            </div>
                            <div class="metric-card">
                                <h4>Duration</h4>
                                <div class="metric-value" id="duration">175 s</div>
                            </div>
                            <div class="metric-card">
                                <h4>Descent Rate</h4>
                                <div class="metric-value" id="descent-rate">1.7 m/s</div>
                            </div>
                            <div class="metric-card">
                                <h4>Ascent Rate</h4>
                                <div class="metric-value" id="ascent-rate">1.2 m/s</div>
                            </div>
                            <div class="metric-card">
                                <h4>Twistiness</h4>
                                <div class="metric-value" id="twistiness">0.68</div>
                            </div>
                            <div class="metric-card">
                                <h4>Energy Cost</h4>
                                <div class="metric-value" id="energy-cost">1240 J</div>
                            </div>
                            <div class="metric-card">
                                <h4>Roll Variance</h4>
                                <div class="metric-value" id="roll-variance">0.47</div>
                            </div>
                            <div class="metric-card">
                                <h4>Behavior Class</h4>
                                <div class="metric-value" id="behavior-class">Foraging</div>
                            </div>
                        </div>
                    </div>
                    
                    <div id="energetics-tab" class="tab-content">
                        <div class="visualization-container">
                            <div class="visualization-card">
                                <h3>Energy Expenditure by Dive Phase</h3>
                                <div class="content">
                                    <canvas id="energy-chart"></canvas>
                                </div>
                            </div>
                            
                            <div class="visualization-card">
                                <h3>Oxygen Consumption</h3>
                                <div class="content">
                                    <canvas id="oxygen-chart"></canvas>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div id="comparison-tab" class="tab-content">
                        <div class="visualization-container">
                            <div class="visualization-card">
                                <h3>Duration by Behavior Type</h3>
                                <img src="assets/dimensionality_reduction/duration_distribution.png" alt="Duration by Behavior Type">
                            </div>
                            
                            <div class="visualization-card">
                                <h3>Sample Count by Behavior Type</h3>
                                <div class="content">
                                    <canvas id="sample-count-chart"></canvas>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Dimensionality Reduction Section -->
        <section id="dimension">
            <div class="section-content">
                <h2>Dimensionality Reduction</h2>
                <div class="card">
                    <h3>Key Insights from Enhancement Modules</h3>
                    <p>The analysis revealed several critical insights about the whale behavior data structure:</p>
                    <ul>
                        <li><strong>Trustworthiness Score (99.3%):</strong> The PCA embeddings successfully preserve local neighborhood structure from high-dimensional space, ensuring reliable visual interpretation.</li>
                        <li><strong>Feature Importance:</strong> From 167 original features (111 static + 56 sequential), a subset of 40-80 most informative features was identified that maintain high discriminative power while reducing noise.</li>
                        <li><strong>Sensor Significance:</strong> Analysis revealed which sensors (accelerometer, gyroscope, depth) provide the most valuable information for behavior identification.</li>
                        <li><strong>Duration Variability:</strong> Sequence length analysis showed significant variation in behavior durations, requiring careful standardization to balance information preservation and comparability.</li>
                    </ul>
                </div>
                
                <div class="visualization-container">
                    <div class="visualization-row">
                        <div class="visualization-card">
                            <h3>Behavior Separation Matrix</h3>
                            <img src="assets/dimensionality_reduction/behavior_separation_matrix.png" alt="Behavior Separation Matrix">
                            <div class="content">
                                <p>This matrix shows separation clarity between different behaviors. Higher values (lighter colors) indicate better separation between behavior pairs.</p>
                            </div>
                        </div>
                        
                        <div class="visualization-card">
                            <h3>2D Methods Comparison</h3>
                            <img src="assets/dimensionality_reduction/method_comparison_2d.png" alt="2D Methods Comparison">
                            <div class="content">
                                <p>Comparison of different dimensionality reduction methods in 2D. Note how t-SNE emphasizes local clusters while PCA preserves global structure.</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="visualization-row">
                        <div class="visualization-card">
                            <h3>Annotation Duration Analysis</h3>
                            <img src="assets/dimensionality_reduction/duration_distribution.png" alt="Annotation Duration Analysis">
                            <div class="content">
                                <p>Distribution of annotation durations across behavior types, with mean duration at 78.38s and median at 59.60s.</p>
                            </div>
                        </div>
                        
                        <div class="visualization-card">
                            <h3>Sequence Length Optimization</h3>
                            <img src="assets/dimensionality_reduction/optimization_results.png" alt="Sequence Length Optimization">
                            <div class="content">
                                <p>Optimization results showing the trade-off between information loss and padding added. Optimal sequence length: 384.</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="visualization-row">
                        <div class="visualization-card">
                            <h3>Impact of Sequence Length on Standardization</h3>
                            <img src="assets/dimensionality_reduction/sequence_standardization.png" alt="Impact of Sequence Length on Standardization">
                            <div class="content">
                                <p>Analysis of how different sequence lengths affect downsampling and padding requirements.</p>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="card">
                    <h3>Technical Challenges Overcome</h3>
                    <ul>
                        <li><strong>Data Format Consistency:</strong> Resolved inconsistencies in HDF5 file structure to ensure reliable data loading across modules.</li>
                        <li><strong>Error Handling:</strong> Implemented robust handling for edge cases like empty sequences and infinity values to maintain computational stability.</li>
                        <li><strong>Matrix Transformation:</strong> Created an optimized feature matrix with significantly higher signal-to-noise ratio while reducing dimensionality by ~60%.</li>
                        <li><strong>Visualization Clarity:</strong> Improved separation of behavioral classes in reduced space for better interpretability by marine biology experts.</li>
                    </ul>
                </div>
                
                <div class="card">
                    <h3>Combined Impact on Analysis</h3>
                    <p>The integration of enhancement modules transformed the approach from basic dimensionality reduction to an optimized system with:</p>
                    <ul>
                        <li>Higher information density in feature matrices</li>
                        <li>Clearer separation of behavioral classes in visualizations</li>
                        <li>More faithful preservation of important relationships</li>
                        <li>Improved interpretability for domain experts</li>
                        <li>Reduced computational requirements for analysis</li>
                    </ul>
                    <p>These improvements provide a more effective foundation for both visualization and classification tasks, ultimately leading to better insights from marine mammal sensor data.</p>
                </div>
                
                <iframe src="presentation/dimensionality_reduction_slides.html" title="Dimensionality Reduction Slides"></iframe>
            </div>
        </section>

        <!-- Training Section -->
        <section id="training">
            <div class="section-content">
                <h2>Model Training</h2>
                <iframe src="presentation/training_slides.html" title="Training Slides"></iframe>
            </div>
        </section>

        <!-- Architecture Section -->
        <section id="architecture">
            <div class="section-content">
                <h2>System Architecture</h2>
                <iframe src="presentation/architecture_slides.html" title="Architecture Slides"></iframe>
            </div>
        </section>

        <!-- Conclusions Section -->
        <section id="conclusions">
            <div class="section-content">
                <h2>Conclusions and Next Steps</h2>
                <div class="card">
                    <h3>Key Findings</h3>
                    <ul>
                        <li>Identified distinct dive patterns correlated with specific foraging behaviors</li>
                        <li>Developed robust classification system for automated behavior detection</li>
                        <li>Quantified energetic expenditure across different dive types</li>
                        <li>Established correlation between environmental factors and dive behaviors</li>
                        <li>Discovered previously unidentified behavioral states through unsupervised learning</li>
                    </ul>
                </div>
                <div class="card">
                    <h3>Future Work</h3>
                    <ul>
                        <li>Expand dataset to include additional whale species for comparative analysis</li>
                        <li>Incorporate environmental data (temperature, prey density) for contextual analysis</li>
                        <li>Develop real-time monitoring capabilities for conservation applications</li>
                        <li>Integrate acoustic data for comprehensive behavioral analysis</li>
                        <li>Apply transfer learning to species with limited tagging data</li>
                        <li>Develop predictive models for behavioral responses to environmental changes</li>
                    </ul>
                </div>
            </div>
        </section>

        <!-- Resources Section -->
        <section id="resources">
            <div class="section-content">
                <h2>Scientific Resources</h2>
                <div class="card">
                    <h3>Key References and Resources</h3>
                    <ul class="resources">
                        <li>Johnson, M. P., & Tyack, P. L. (2003). A digital acoustic recording tag for measuring the response of wild marine mammals to sound. IEEE Journal of Oceanic Engineering, 28(1), 3-12.</li>
                        <li>Goldbogen, J. A., et al. (2017). Using accelerometers to determine the calling behavior of tagged baleen whales. Journal of Experimental Biology, 220(22), 4150-4159.</li>
                        <li>Cade, D. E., et al. (2018). Kinematic diversity in rorqual whale feeding mechanisms. Current Biology, 28(19), 3204-3213.</li>
                        <li>Friedlaender, A. S., et al. (2016). Multiple-stage decisions in a marine central-place forager. Royal Society Open Science, 3(10), 160043.</li>
                        <li>Williams, T. M. (1999). The evolution of cost efficient swimming in marine mammals: limits to energetic optimization. Philosophical Transactions of the Royal Society of London. Series B: Biological Sciences, 354(1380), 193-201.</li>
                        <li>Ware, C., Friedlaender, A. S., & Nowacek, D. P. (2011). Shallow and deep lunge feeding of humpback whales in fjords of the West Antarctic Peninsula. Marine Mammal Science, 27(3), 587-605.</li>
                        <li>Baumgartner, M. F., & Mate, B. R. (2003). Summertime foraging ecology of North Atlantic right whales. Marine Ecology Progress Series, 264, 123-135.</li>
                        <li>Feng, L., Tung, F., Ahmed, M. O., Bengio, Y., & Hajimirsadeghi, H. (2024). Were RNNs All We Needed? Revisiting Minimal RNNs for Sequential Tasks. arXiv:2410.01201.</li>
                        <li>Patil, P., et al. (2023). Searching for Efficient Neural Architectures for On-Device ML: Model Complexity and Hardware Constraints. Available at: https://pratikpatil.io/papers/model-complexity.pdf</li>
                    </ul>
                </div>
            </div>
        </section>
    </div>

    <script src="js/main.js"></script>
    <script src="presentation/presentation_helper.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Initialize the frame viewer
            if (typeof initFrameViewer === 'function') {
                initFrameViewer();
            }
            
            // Initialize smooth scrolling
            if (typeof initSmoothScrolling === 'function') {
                initSmoothScrolling();
            }
            
            // Tab functionality
            window.openTab = function(tabId) {
                // Hide all tabs
                document.querySelectorAll('.tab-content').forEach(tab => {
                    tab.classList.remove('active');
                });
                
                // Show selected tab
                document.getElementById(tabId).classList.add('active');
                
                // Update button states
                document.querySelectorAll('.tab-button').forEach(button => {
                    button.classList.remove('active');
                });
                event.currentTarget.classList.add('active');
            };
            
            // Dashboard dive selector
            const diveSlider = document.getElementById('dive-slider');
            const selectedDiveNumber = document.getElementById('selected-dive-number');
            
            // Sample data for demonstration - in a real implementation this would come from an API or data file
            const diveData = [
                { maxDepth: "124.3 m", duration: "175 s", descentRate: "1.7 m/s", ascentRate: "1.2 m/s", twistiness: "0.68", energyCost: "1240 J", rollVariance: "0.47", behaviorClass: "Foraging" },
                { maxDepth: "87.1 m", duration: "142 s", descentRate: "1.3 m/s", ascentRate: "1.5 m/s", twistiness: "0.42", energyCost: "980 J", rollVariance: "0.38", behaviorClass: "Exploratory" },
                { maxDepth: "156.7 m", duration: "216 s", descentRate: "1.9 m/s", ascentRate: "1.1 m/s", twistiness: "0.71", energyCost: "1380 J", rollVariance: "0.52", behaviorClass: "Feeding" },
                { maxDepth: "61.5 m", duration: "98 s", descentRate: "1.1 m/s", ascentRate: "1.4 m/s", twistiness: "0.34", energyCost: "760 J", rollVariance: "0.29", behaviorClass: "Traveling" },
                { maxDepth: "112.8 m", duration: "163 s", descentRate: "1.6 m/s", ascentRate: "1.3 m/s", twistiness: "0.57", energyCost: "1120 J", rollVariance: "0.41", behaviorClass: "Side rolls" }
            ];
            
            // Update metrics based on selected dive
            function updateDiveMetrics(diveIndex) {
                const index = diveIndex % diveData.length; // Cycle through our sample data
                const dive = diveData[index];
                
                document.getElementById('max-depth').textContent = dive.maxDepth;
                document.getElementById('duration').textContent = dive.duration;
                document.getElementById('descent-rate').textContent = dive.descentRate;
                document.getElementById('ascent-rate').textContent = dive.ascentRate;
                document.getElementById('twistiness').textContent = dive.twistiness;
                document.getElementById('energy-cost').textContent = dive.energyCost;
                document.getElementById('roll-variance').textContent = dive.rollVariance;
                document.getElementById('behavior-class').textContent = dive.behaviorClass;
            }
            
            diveSlider.addEventListener('input', function() {
                const diveNumber = this.value;
                selectedDiveNumber.textContent = diveNumber;
                updateDiveMetrics(diveNumber - 1);
            });
            
            // Initialize with first dive
            updateDiveMetrics(0);
        });
    </script>
</body>
</html> 